\documentclass[../../../main_math.tex]{subfiles}

\begin{document}
\changecolor{RFA}
\begin{multicols}{2}[\section{Real and functional analysis}]
  \subsection{Measure theorey and Lebesgue integral}
  \subsubsection{Measures}
  \begin{definition}[$\sigma$-algebra]
    Let $\Omega$ be a set and $\Sigma\subseteq\mathcal{P}(\Omega)$. We say that $\Sigma$ is a \emph{$\sigma$-algebra} over $\Omega$ if:
    \begin{enumerate}
      \item $\Omega\in\Sigma$.
      \item If $A\in\Sigma$, then $A^c\in\Sigma$.
      \item If $(A_n)\in\Sigma$, then: $$\bigcup_{n=1}^\infty A_n\in\Sigma$$
    \end{enumerate}
  \end{definition}
  \begin{proposition}
    Let $\Sigma$ be a $\sigma$-algebra over a set $\Omega$. Then:
    \begin{enumerate}
      \item $\varnothing\in\Sigma$.
      \item If $A,B\in\Sigma$, then $A\setminus B\in\Sigma$.
      \item If $(A_n)\in\Sigma$, then: $$\bigcap_{n=1}^\infty A_n\in\Sigma$$
    \end{enumerate}
  \end{proposition}
  \begin{sproof}
    Use \mnameref{FM:morgan} to show that $A\cap B\in \Sigma$ if $A,B\in\Sigma$.
  \end{sproof}
  \begin{definition}[Measure]
    Let $\Sigma$ be a $\sigma$-algebra over a set $\Omega$. A \emph{measure} over $\Omega$ is any function $$\mu:\Sigma\longrightarrow[0,\infty]$$ satisfying the following properties:
    \begin{enumerate}[ref = $\sigma$-additivity]
      \item $\mu(\varnothing)=0$.
            \item\label{RFA:sigmaadditivity} \emph{$\sigma$-additivity}: If $(A_n)\in\Sigma$ are pairwise disjoint, then: $$\mu\left(\bigsqcup_{n=1}^\infty A_n\right)=\sum_{n=1}^\infty \mu(A_n)$$
    \end{enumerate}
  \end{definition}
  \begin{definition}
    Let $\Sigma$ be a set and $(A_n)\in\Sigma$ be subsets. We say that $A_n\nearrow A$ if $A_n\subseteq A_{n+1}$ $\forall n\in\NN$ and $A=\bigcup_{n=1}^\infty A_n$. Analogously, we say that $A_n\searrow A$ if $A_n\supseteq A_{n+1}$ $\forall n\in\NN$ and $A=\bigcap_{n=1}^\infty A_n$.
  \end{definition}
  \begin{proposition}
    Let $\Sigma$ be a $\sigma$-algebra over a set $\Omega$, $\mu:\Sigma\longrightarrow[0,\infty]$ be a measure over $\Omega$ and $A_n,A,B\in\Sigma$, $n\in\NN$. Then:
    \begin{enumerate}
      \item If $A\subseteq B$, then $\mu(B\setminus A)=\mu(B)-\mu(A)$.
      \item If $A\subseteq B$, then $\mu(A)\leq\mu(B)$.
            \item\label{RFA:incresingseq} If $A_n\nearrow A$, then $\displaystyle\mu(A)=\lim_{n\to\infty} \mu(A_n)$.
            \item\label{RFA:decresingseq} If $A_n\searrow A$ and $\mu(A_1)<\infty$, then $\displaystyle\mu(A)=\lim_{n\to\infty} \mu(A_n)$.
    \end{enumerate}
  \end{proposition}
  \begin{sproof}
    \begin{enumerate}
      \doubleitem $$\mu(B)=\mu(A\sqcup (B\setminus A))=\mu(A) +\mu(B\setminus A)$$
      \item Let $E_1=A_1$ and $E_n=A_n\setminus A_{n-1}$ for $n\geq 2$. Then, $A=\bigcup_{n=1}^\infty A_n=\bigsqcup_{n=1}^\infty E_n$ and:
            \begin{align*}
              \mu(A) & =\sum_{n=1}^\infty \mu(E_n)=\lim_{N\to\infty}\sum_{n=1}^N(\mu(A_n)-\mu(A_{n-1})) \\
                     & =\lim_{N\to\infty}\mu(A_N)
            \end{align*}
      \item Let $E_n=A_{n}\setminus A_{n+1}$ for $n\in\NN$. Then, $A_1=A\sqcup\bigsqcup_{n=1}^\infty E_n$ and:
            \begin{align*}
              \mu(A_1) & =\mu(A)+\sum_{n=1}^\infty \mu(E_n)                           \\
                       & =\mu(A)+\lim_{N\to\infty}\sum_{n=1}^N(\mu(A_n)-\mu(A_{n+1})) \\
                       & =\mu(A)+\mu(A_1)-\lim_{N\to\infty}\mu(A_N)
            \end{align*}
            And since $\mu(A_1)<\infty$, we get the desired result.
    \end{enumerate}
  \end{sproof}
  \begin{definition}
    An \emph{interval} $I\subseteq\RR^n$ is a set of the form:
    $$I=\abs{a_1,b_1}\times\cdots\times\abs{a_n,b_n}$$
    where $a_i,b_i\in\RR_\infty$ and the notation $\abs{a,b}$ represents either $(a,b)$, $[a,b)$, $(a,b]$ or $[a,b]$.
  \end{definition}
  \begin{definition}
    Let $I=\prod_{i=1}^n\abs{a_i,b_i}\subseteq\RR^n$ be an interval. We define its \emph{volume} as:
    $$\vol(I):=\prod_{i=1}^n(b_i-a_i)$$
  \end{definition}
  \begin{definition}
    Let $m\in\NN\cup\{0\}$. We define the \emph{$m$-th dyadic cube} as the set: $$[a_1,a_1+2^{-m})\times\cdots\times [a_n,a_n+2^{-m})$$
    where $a_i\in 2^{-m}\ZZ$\footnote{Note that for each $m\in\NN$ we can make a partition of $\RR^n$ in dyadic cubes.}.
  \end{definition}
  \begin{lemma}
    Let $m\in\NN\cup\{0\}$. Then the sidelength of the $m$-th dyadic cube is $2^{-m}$, its volume $2^{-mn}$ and its diameter is $2^{-m}\sqrt{n}$.
  \end{lemma}
  \begin{proposition}
    Any nonempty open set $U\subseteq\RR^n$ can be written as a countable union of disjoint dyadic cubes whose closure is in $U$.
  \end{proposition}
  \begin{proof}
    Let $\mathcal{D}_0$ be a union of disjoint $0$-th dyadic cubes whose closure is contained in $U$. Now let $\mathcal{D}_1$ be a family of disjoint $1$-th dyadic cubes contained in $U\setminus\mathcal{D}_0$ whose closure is in $U\setminus\overline{\mathcal{D}_0}$. In general, let $\mathcal{D}_n$ be a family of disjoint $n$-th dyadic cubes contained in $U\setminus\bigcup_{k=0}^{n-1}\mathcal{D}_k$ whose closure is in $U\setminus\bigcup_{k=0}^{n-1}\overline{\mathcal{D}_k}$. By construction, we have that $\bigcup_{n=0}^\infty \overline{\mathcal{D}_0}\subseteq U$ and the $\mathcal{D}_n$ are clearly pairwise disjoint. Moreover, if $x\in U$, $\delta:=d(x,U^c)>0$ and so it will be contained (at least) in an $m$-th dyadic cube, with $2^{-m}\sqrt{n}<\delta$. Hence, $\bigcup_{n=0}^\infty \mathcal{D}_0=U$
  \end{proof}
  \begin{definition}
    Let $A\subseteq\RR^n$ be a set. We denote by $\mathcal{I}(A)$ the set of sequences of intervals that cover $A$. Analogously, we denote by $\mathcal{I}_0(A)$ the set of sequences of open intervals that cover $A$.
  \end{definition}
  \begin{definition}[Outer measure]
    Let $A\subseteq\RR^n$ be a set. We define its \emph{outer measure} as the function $\om{}$ defined by:
    $$\om{A}:=\inf\left\{\sum_{k= 1}^\infty \vol(I_k):\{I_k:k\geq 1\}\in \mathcal{I}(A)\right\}$$
  \end{definition}
  \begin{proposition}
    Let $A\subseteq\RR^n$ be a set. Then:
    $$\om{A}=\inf\left\{\sum_{k= 1}^\infty \vol(I_k):\{I_k:k\geq 1\}\in \mathcal{I}_0(A)\right\}$$
  \end{proposition}
  \begin{proof}
    Let $$\om{A}_0=\inf\left\{\sum_{k= 1}^\infty \vol(I_k):\{I_k:k\geq 1\}\in \mathcal{I}_0(A)\right\}$$ We shall see $\om{A}=\om{A}_0$. As $\mathcal{I}_0(A)\subset\mathcal{I}(A)$, we have $\om{A}\leq\om{A}_0$.

    Now let $\varepsilon>0$ and by the definition of infimum we can take $(I_k)\in\mathcal{I}(A)$ of the form $$I_k=\abs{a_1^k,b_1^k}\times\cdots\times\abs{a_n^k,b_n^k}$$ such that $\sum_{k=1}^\infty\vol(I_k)\leq \om{A}+\frac{\varepsilon}{2}$.
    It is clear $\forall k\in\NN$ $\exists\delta_k>0$ such that:
    $$J_k=\abs{a_1^k-\delta_k,b_1^k+\delta_k}\times\cdots\times\abs{a_n^k-\delta_k,b_n^k+\delta_k}$$
    satisfy $\vol(J_k)\leq\vol(I_k) +\frac{\varepsilon}{2^{k+1}}$ and so:
    $$\om{A}_0\leq \sum_{k=1}^\infty\vol(J_k)\leq\sum_{k=1}^\infty\vol(I_k) +\frac{\varepsilon}{2}\leq\om{A}+\varepsilon$$
    This is true $\forall \varepsilon>0$. Thus, $\om{A}_0\leq\om{A}$.
  \end{proof}
  \begin{lemma}
    Let $I,J_1,\ldots,J_N\subseteq \RR^n$ be intervals such that $I\subseteq \bigcup_{k=1}^N J_k$. Then, $\vol(I)\leq\sum_{k=1}^N \vol(J_k)$.
  \end{lemma}
  \begin{sproof}
    Note that we can suppose $I=\bigcup_{k=1}^N J_k$ by intersecting (if necessary) with $I$. Suppose $I=I_1\times\cdots\times I_n$ and let $\{R_k:k=1,\ldots,M\}$ be an appropriate partition of subrectangles of $I$. Note that $\vol(I)=\sum_{k=1}^M\vol(R_k)$. If $(J_k)$ were pairwise disjoint we would have $\sum_{k=1}^M\vol(R_k)=\sum_{k=1}^{N}\vol(J_k)$. If not, some of these $R_k$ are ``repeated'' and so $\vol(I)=\sum_{k=1}^M\vol(R_k)\leq\sum_{k=1}^{N}\vol(J_k)$.
  \end{sproof}
  \begin{theorem}
    The outer measure has the following properties:
    \begin{enumerate}
      \item $\om{\varnothing}=0$.
            \item\label{RFA:measureB} If $A\subseteq B\subseteq\RR^n$, then $\om{A}\leq \om{B}$.
      \item \label{RFA:measureC} If $(A_k)\subseteq \RR^n$, then: $$\om{\bigcup_{k=1}^\infty A_k}\leq \sum_{k=1}^\infty \om{A_k}$$
      \item \label{RFA:measureD}If $I\subseteq \RR^n$ is an open interval and $I\subseteq A\subseteq \cl{I}$, then $\om{A}=\vol(I)$.
            \item\label{RFA:measureE} If $I_1,\ldots,I_N\subseteq \RR^n$ are disjoint intervals, then: $$\displaystyle \om{\bigsqcup_{k=1}^N I_k}= \sum_{k=1}^N \vol(I_k)$$
      \item If $A,B\subseteq \RR^n$ and $d(A,B):=\inf\{d(a,b):a\in A,b\in B\}>0$, then $\om{A\sqcup B}=\om{A}+\om{B}$.
            \item\label{RFA:measureG} If $A\subseteq\RR^n$ and $x\in\RR^n$, then $\om{A+x}=\om{-A}=\om{A}$\footnote{Here $A+x:=\{a+x:a\in A\}$ and $-A:=\{-a:a\in A\}$}.
    \end{enumerate}
  \end{theorem}
  \begin{sproof}
    \begin{enumerate}
      \item Clear because $\varnothing\subset I$ for any interval $I\subset\RR^n$.
      \item Use the fact that $\mathcal{I}(B)\subseteq\mathcal{I}(A)$.
      \item Let $\varepsilon>0$. For each $k\in\NN$ let $(I_n^k)\in\mathcal{I}(A_k)$ be such that: $$\sum_{n=1}^\infty\vol{(I_n^k)}\leq\om{A_k}+\frac{\varepsilon}{2^k}$$
            Since, $\bigcup_{k=1}^\infty A_k\subseteq \bigcup_{k,n=1}^\infty I_n^k$ we have that:
            \begin{align*}
              \om{\bigcup_{k=1}^\infty A_k} & \leq \sum_{k,n=1}^\infty\vol{(I_n^k)}\leq\sum_{k= 1}^\infty\left(\om{A_k}+\frac{\varepsilon}{2^k}\right) \\
                                            & =\sum_{k=1}^\infty \om{A_k}+\varepsilon
            \end{align*}
            for all $\varepsilon>0$.
      \item If follows from \mcref{RFA:measureB} and the fact that $\vol(I)=\vol(\overline{I})$.
      \item The inequality $\leq$ follows from \mcref{RFA:measureC}.

            For the other one, let $\varepsilon>0$, $I:=\bigsqcup_{k=1}^N I_k$ and $K\subset I$ be a compact interval such that $\sum_{k=1}^N\vol{(I_k)}\leq\vol(K)+\varepsilon$. Now take $(J_k)\in\mathcal{I}_0(I)$ such that $\sum_{k=1}^\infty\vol(J_k)\leq\om{I}+\varepsilon$. In particular $(J_k)\in \mathcal{I}_0(K)$. Since $K$ is compact, there exists a finite covering of $K$ which without loss of generality we may assume it is $K\subset \bigcup_{k=1}^M J_k$. Then
            \begin{align*}
              \sum_{k=1}^N\vol{(I_k)} & \leq\vol(K)+\varepsilon\leq \sum_{k=1}^M\vol(J_k)+\varepsilon     \\
                                      & \leq\sum_{k=1}^\infty\vol(J_k)+\varepsilon\leq\om{I}+2\varepsilon
            \end{align*}
            by \mcref{RFA:measureB,RFA:measureC}. Since this is true $\forall\varepsilon>0$, we get $\sum_{k=1}^N\vol{(I_k)}\leq\om{I}$.
      \item If $\delta=d(A,B)>0$, it suffices to consider two sequences $(I_k)\in\mathcal{I}(A)$ and $(J_k)\in\mathcal{I}(B)$ such that $\diam(I_k)<\delta/3$ and $\diam(J_k)<\delta/3$ $\forall k\in\NN$.
      \item It follows from the property that the volume of intervals is invariant under translations and reflections.
    \end{enumerate}
  \end{sproof}
  \begin{definition}
    A set $N\subset\RR^n$ is called a \emph{null set} if $\om{N}=0$.
  \end{definition}
  \begin{definition}
    We say that a property holds \emph{almost everywhere} (\emph{a.e.}) if the set of points that doesn't hold it is null.
  \end{definition}
  \begin{lemma}\label{RFA:countable}
    The countable union of null sets is null.
  \end{lemma}
  \begin{proof}
    Let $(N_n)\subset\RR^n$ be a sequence of null sets. Then:
    $$\om{\bigcup_{n=1}^\infty N_n}\leq\sum_{n=1}^\infty \om{N_n}=0$$
  \end{proof}
  \begin{lemma}
    A point is null. Therefore, all countable sets are null.
  \end{lemma}
  \begin{proof}
    Let $x=(x_1,\ldots,x_n)\in\RR^n$. Then, $\forall\varepsilon>0$ we have:
    $$
      \om{\{x\}}\leq\vol\left(\prod_{i=1}^n\left(x_i-\frac{\varepsilon}{2},x_i+\frac{\varepsilon}{2}\right)\right)=\varepsilon^n
    $$
    And if $Q\subset\RR^n$ is a countable subset, then using \mcref{RFA:countable} we deduce that $\om{Q}= 0$ from the fact that $Q=\bigcup_{q\in Q}\{q\}$.
  \end{proof}
  \subsubsection{Lebesgue measure}
  \begin{definition}[Lebesgue measure]
    We say that $A\subseteq\RR^n$ is \emph{Lebesgue measurable} (or simply \emph{measurable}) if $\forall \varepsilon>0$, there exists an open set $U\supseteq A$ such that $\om{U\setminus A}<\varepsilon$. We denote by $\mathcal{M}(\RR^n)$ the set of all Lebesgue measurable sets of $\RR^n$ and by $\m{}$ the restriction of $\om{}$ to ${\mathcal{M}(\RR^n)}$.
  \end{definition}
  \begin{theorem}
    $\mathcal{M}(\RR^n)$ is a $\sigma$-algebra and $\m{\cdot}:\mathcal{M}(\RR^n)\rightarrow[0,\infty]$ is a measure (called \emph{Lebesgue measure}) that satisfies:
    \begin{enumerate}
      \item The open sets, closed sets and null sets are in $\mathcal{M}(\RR^n)$.
      \item Each interval $I\subseteq \RR^n$ is measurable and $\m{I}=\vol(I)$.
      \item If $A\in\mathcal{M}(\RR^n)$ and $x\in\RR^n$, then $A+x,-A\in\mathcal{M}(\RR^n)$ and $\m{A+x}=\m{-A}=\m{A}$.
      \item If $A\in\mathcal{M}(\RR^n)$:
            \begin{align*}
              \m{A} & =\inf\{\m{U}:A\subseteq U \subseteq\RR^n, U\text{ open}\}   \\
                    & =\sup\{\m{C}:C\subseteq A\subseteq\RR^n, C\text{ closed}\}  \\
                    & =\sup\{\m{K}:K\subseteq A\subseteq\RR^n, K\text{ compact}\}
            \end{align*}
    \end{enumerate}
  \end{theorem}
  \begin{sproof}
    Let's prove first that $\mathcal{M}(\RR^n)$ is a $\sigma$-algebra.
    \begin{itemize}
      \item $\RR^n\in\mathcal{M}(\RR^n)$ because $\RR^n$ is open and $0=\om{\mathcal{M}(\RR^n)\setminus\RR^n}<\varepsilon$ $\forall \varepsilon>0$
      \item Let $(A_n)\in\mathcal{M}(\RR^n)$. Then, $\forall \varepsilon>0$ for each $n\in\NN$ there exists an open set $U_n\supseteq A_n$ such that $\om{U_n\setminus A_n}<\frac{\varepsilon}{2^n}$. Now, $U:=\bigcup_{n=1}^\infty U_n$ is open and satisfy:
            \begin{align*}
              \om{\bigcup_{n=1}^\infty U_n\setminus\bigcup_{n=1}^\infty A_n} & \leq \om{\bigcup_{n=1}^\infty (U_n\setminus A_n)}                                                      \\
                                                                             & \leq\sum_{n=1}^{\infty}\om{U_n\setminus A_n}\leq\sum_{n=1}^{\infty}\frac{\varepsilon}{2^n}=\varepsilon
            \end{align*}
    \end{itemize}
    Let's see now the first property.
    \begin{enumerate}
      \item Clearly open sets are measurable and so are the null sets since $\om{U\setminus N}\leq\om{U}$ for all open sets $U$ and null sets $N$. To show that the closed sets are measurable, let's prove first that the compact sets are measurable. Given a compact set $K$ and $\varepsilon>0$, there exists an open set $U$ such that $K\subset U$, $\m{U}\leq\om{K}+\varepsilon$ and $U\setminus K=\bigsqcup_{k=1}^\infty D_k$, where $(D_k)$ are dyadic cubes. Thus:
            $$\om{K}+\varepsilon\geq \m{U}\geq\om{K\sqcup\bigsqcup_{k=1}^\infty D_k}=\om{K}+\sum_{k=1}^\infty \vol{D_k}$$
            by \mcref{RFA:measureE}. Thus, $\om{U\setminus K}\leq \sum_{k=1}^\infty \vol{D_k}\leq \varepsilon$. Finally, as any closed set can be written a countable union of compact sets, since $\mathcal{M}(\RR^n)$ is a $\sigma$-algebra, we get the desired result.
    \end{enumerate}
    Finally:
    \begin{itemize} \item Let $A\in\mathcal{M}(\RR^n)$. Then, $\forall k\in\NN$ there exists an open set $U_k\supseteq A$ such that $\om{U_k\setminus A}<\frac{1}{k}$. Let $U:=\bigcup_{k=1}^\infty {U_k}^c$. Then, $U\subseteq A^c$ and if $N=A^c\setminus U$ we have that $N\subseteq U_k\setminus A$ $\forall k\in\NN$. So $\om{N}\leq\frac{1}{k}$ $\forall k\in\NN$ and therefore $N$ is null. So $A^c = U\cup N$ is union of two measurable sets ($U$ is a countable union of closed sets) and thereby measurable.
    \end{itemize}
    So $\mathcal{M}(\RR^n)$ is a $\sigma$-algebra. Now let's see that $\m{\cdot}$ is a measure.
    \begin{itemize}
      \item Consequence of $\varnothing\in\mathcal{M}(\RR^n)$ and $\om{\varnothing}=0$.
      \item Let $(A_n)\in\mathcal{M}(\RR^n)$ be pairwise disjoint. We need to prove that: $$\m{\bigsqcup_{n=1}^\infty A_n}=\sum_{n=1}^\infty \m{A_n}$$
            One inequality has already been given in \mcref{RFA:measureC}. For the other one, first suppose that the $(A_n)$ are bounded. Then, $\forall \varepsilon >0$ there exist compact sets $K_n\subset A_n$ such that $\m{A_n}\leq \om{K_n}+\frac{\varepsilon}{2^k}$. Then:
            $$\sum_{n=1}^\infty \m{A_n}\leq \sum_{n=1}^\infty\left(\om{K_n}+\frac{\varepsilon}{2^k}\right)\leq \m{A}+\varepsilon$$
            If the $(A_n)$ aren't bounded, then take $(B_m^n)$ measurable and bounded such that $A_n=\bigsqcup_{m=1}^\infty B_m^n$ and so:
            $$\sum_{n=1}^\infty \m{A_n}=\sum_{n,m=1}^\infty \m{B_m^n}= \m{\bigsqcup_{n,m=1}^\infty B_m^n}=\m{A}$$
    \end{itemize}
    So $\m{\cdot}$ is a measure. Now let's continue with the remaining properties:
    \begin{enumerate}\setcounter{enumi}{1}
      \item $I=\Fr{I}\cup\Int(I)$ which is a union of a closed set and an open set. Hence, $I\in\mathcal{M}(\RR^n)$ and $\m{I}=\vol(I)$ (by \mcref{RFA:measureD}).
      \item It follows from \mcref{RFA:measureG}.
      \item Note that if $A\in\mathcal{M}(\RR^n)$, then there exists a closed set $C\subseteq A$ such that $\om{A\setminus C}<\varepsilon$ $\forall\varepsilon>0$. Indeed, there exists an open set $U\supseteq A^c$ such that $\om{U\setminus A^c}<\varepsilon$. Now take $C=U^c$. From here we deduce the first two equalities. For the third one, it suffices to bound to closed sets by intersecting them with balls to become compact sets.
    \end{enumerate}
  \end{sproof}
  \begin{definition}
    A \emph{real function} is a function $f:\RR^n\rightarrow[-\infty,+\infty]$. We will say that $f$ is \emph{finite} if $\pm\infty\notin\im f$.
  \end{definition}
  \begin{definition}
    Let $f$ be a real function. We say that $f$ is \emph{Lebesgue measurable} (or simply \emph{measurable}) if $\{f(x)> r\}\in \mathcal{M}(\RR^n)$ $\forall r\in\RR$.
  \end{definition}
  \begin{lemma}\label{RFA:lemmamesurable}
    Let $a,b\in[-\infty,+\infty]$ and $f$ be a real function. The sets:
    \begin{itemize}
      \item $\{a<f(x)<b\}$
      \item $\{a\leq f(x)<b\}$
      \item $\{a<f(x)\leq b\}$
      \item $\{a\leq f(x)\leq b\}$
    \end{itemize}
    are all measurable.
  \end{lemma}
  \begin{sproof}
    Rewrite the sets as union of antiimages of $f$. For example, for the second one:
    \begin{multline*}
      \{a\leq f(x)<b\}  =\{f(x)\geq a\}\cup{\{f(x)\geq b\}}^c                                                  \\
      =\bigcap_{n=1}^\infty \left\{f(x)>a-\frac{1}{n}\right\}\cup{\left(\bigcup_{n=1}^\infty\left\{f(x)>b-\frac{1}{n}\right\}\right)}^c
    \end{multline*}
    Since all the sets in the unions are measurable, so is the initial set.
  \end{sproof}
  \begin{proposition}
    A function $f:\RR^n\rightarrow\RR$ is measurable if and only if for all open set $U\subseteq \RR$, $f^{-1}(U)\in\mathcal{M}(\RR^n)$.
  \end{proposition}
  \begin{sproof}
    \begin{itemizeiff}
      Let $U\subseteq \RR$ be an open set. We can write $U$ as a countable union of intervals $I_n$. Then: $$f^{-1}(U)=f^{-1}\left(\bigcup_{n=1}^\infty I_n\right)=\bigcup_{n=1}^\infty f^{-1}(I_n)$$ And $f^{-1}(I_n)\in\mathcal{M}(\RR^n)$ by \mcref{RFA:lemmamesurable}.
      \item Take the open set $(r,\infty)\subset\RR$ and note that: $$\{f>r\}=f^{-1}((r,\infty))\in\mathcal{M}(\RR^n)$$
    \end{itemizeiff}
  \end{sproof}
  \begin{proposition}
    Let $f$ be a finite measurable real function, $U\subseteq\RR$ be an open set such that $\im f\subseteq U$ and $\varphi:U\rightarrow\RR$ be a continuous function. Then, $\varphi\circ f$ is also measurable.
  \end{proposition}
  \begin{proof}
    For any open set $V\subseteq\RR$ we have that: $${(\varphi\circ f)}^{-1}(V)=f^{-1}(\varphi^{-1}(V))\in\mathcal{M}(\RR^n)$$ because $\varphi^{-1}(V)$ is open as $\varphi$ is continuous.
  \end{proof}
  \begin{proposition}\label{RFA:sumproduct}
    Let $u$, $v$ be two finite measurable real functions, $U\subseteq\RR^2$ be an open set such that $(u(x),v(x))\in U$ $\forall x\in\RR^n$ and $\varphi:U\rightarrow\RR$ be a continuous function. Then, $\varphi(u(x),v(x))$ is also measurable.
  \end{proposition}
  \begin{sproof}
    For any open set $V\subseteq\RR$, $\varphi^{-1}(V)$ is open, and therefore it is a countable union of intervals of the form $I\times J$. Now, use the fact that $\{(u,v)\in I\times J\}=\{u\in I\}\cap\{v\in J\}$.
  \end{sproof}
  \begin{proposition}
    Let $f$, $g$ be two measurable real functions. Then, so are $f\pm g$, $fg$ and $f/g$ if $g(x)\ne 0$ $\forall x\in\RR^n$.
  \end{proposition}
  \begin{proof}
    Use \mcref{RFA:sumproduct} with $\varphi(x,y)=x\om y$, $\varphi(x,y)=xy$ and $\varphi(x,y)=x/y$, respectively.
  \end{proof}
  \begin{proposition}
    Let $f$, $g$ be two real functions such that $f$ is measurable and $f\almoste{=} g$. Then, $g$ is also measurable.
  \end{proposition}
  \begin{sproof}
    Let $N:=\{f\ne g\}$ which is null. Moreover, note that $\forall r\in\RR$:
    $$\{g>r\}=\{f>r\} \cup (\{g>r\}\cap N)$$
    which is measurable.
  \end{sproof}
  \begin{proposition}
    Let $(f_m)$ be a sequence of measurable real functions. Then, the following functions are measurable:
    \begin{itemize}
      \item $\displaystyle\sup\{f_m:m\in\NN\}$
      \item $\displaystyle\inf\{f_m:m\in\NN\}$
      \item $\displaystyle\limsup_{m\to\infty} f_m$
      \item $\displaystyle\liminf_{m\to\infty} f_m$
    \end{itemize}
    Furthermore, any function being pointwise limit a.e.\ of a sequence of measurable functions is measurable.
  \end{proposition}
  \begin{sproof}
    Use de following identities for each case:
    \begin{itemize}
      \item $\displaystyle\{\sup\{f_m:m\in\NN\}>r\}=\bigcup_{n=1}^\infty \{f_m> r\}$
      \item $\displaystyle\inf\{f_m:m\in\NN\}=-\sup\{-f_m:m\in\NN\}$
      \item $\displaystyle\limsup_{m\to\infty} f_m=\inf\{\sup\{f_k:k\geq n\}:m\in\NN\}$
      \item $\displaystyle\liminf_{m\to\infty} f_m =\sup\{\inf\{f_k:k\geq n\}:m\in\NN\}$
    \end{itemize}
    For the last property, if $\displaystyle f(x)=\lim_{m\to\infty} f_m(x)$ $\forall x\in\RR^n\setminus N$ with $f_m$ measurable functions and $\m{N}=0$, then $f_m\indi{\RR^n\setminus N}$ are measurable, $\displaystyle f\indi{\RR^n\setminus N}=\lim_{m\to\infty} f_m\indi{\RR^n\setminus N}$ and $f\almoste{=}f\indi{\RR^n\setminus N}$.
  \end{sproof}
  \begin{definition}
    The \emph{Borel $\sigma$-algebra} over $\RR^n$, $\mathcal{B}(\RR^n)$, is the smallest $\sigma$-algebra that contains the open sets of $\RR^n$.
  \end{definition}
  \begin{lemma}
    We have that $\mathcal{B}(\RR^n)\subset \mathcal{M}(\RR^n)$.
  \end{lemma}
  \begin{definition}
    A function $g:\RR\rightarrow\RR$ is \emph{Borel measurable} if $\{x\in\RR^n:g(x)> r\}\in \mathcal{B}(\RR^n)$ $\forall r\in\RR$.
  \end{definition}
  \begin{proposition}
    Let $f:\RR\rightarrow\RR$ be a Lebesgue measurable function and $g:\RR\rightarrow\RR$ be a Borel measurable function. Then, $g\circ f$ is Lebesgue measurable.
  \end{proposition}
  \begin{sproof}
    The set
    $$
      \Sigma_f=\{A\in\mathcal{M}(\RR^n):f^{-1}(A)\text{ is measurable}\}
    $$
    is a $\sigma$-algebra that contain the open sets. Keeping this in mind, for any open set $U\subseteq\RR$ we have that: $${(g\circ f)}^{-1}(U)=f^{-1}(g^{-1}(U))\in\mathcal{M}(\RR^n)$$ because $g^{-1}(U)\in\mathcal{B}(\RR^n)\subseteq \Sigma_f$.
  \end{sproof}
  \begin{definition}
    Let $f$ be a measurable function. We define the following measurable functions:
    $$f^+:=\sup\{f,0\}\qquad f^-:=\sup\{-f,0\}$$
    Note that then, $f=f^+-f^-$ and $\abs{f}=f^++f^-$.
  \end{definition}
  \begin{definition}
    A \emph{simple function} is a linear combination $$s:=\sum_{k=1}^N\alpha_k\indi{A_k}$$ where $\alpha_k\in\RR$ and $A_k\in\mathcal{M}(\RR^n)$ for $k=1,\ldots,N$\footnote{We may suppose that the sets $A_k$ are pairwise disjoint, the quantities $\alpha_k$ are all different and that $A_k=s^{-\alpha_k}$.}.
  \end{definition}
  \begin{theorem}\label{RFA:increasing-sm}
    Let $f:\RR^n\rightarrow[0,+\infty]$ be a measurable function and $\forall k\in\NN$, $m\in\NN\cup\{0\}$ let: $$E(k,m):=\left\{\frac{k-1}{2^m}\leq f<\frac{k}{2^m}\right\}\;\;\text{and}\;\; F(m):=\{f\geq m\}$$
    Then, the sequence of positive simple functions $$s_m=m\indi{F(m)}+\sum_{k=1}^{m2^m}\frac{k-1}{2^m}\indi{E(k,m)}$$ is increasing and $\displaystyle\lim_{m\to\infty}s_m(x)=f(x)$ $\forall x\in\RR^n$.
  \end{theorem}
  \begin{sproof}
    The sets $E(k,m)$ an $F(m)$ are measurable and satisfy:
    \begin{equation*}
      E(k,m)=E(2k-1,m+1)\sqcup E(2k,m+1)
    \end{equation*}
    % provided that $h=2k-1<m2^{m+1}$, 
    and:
    \begin{equation*}
      F(m)=\left(\bigsqcup_{h=m2^{m+1}+1}^{(m+1)2^{m+1}}E(h,m+1)\right)\sqcup F(m+1)
    \end{equation*}
    The proof of $s_m(x)\leq s_{m+1}(x)$ follows from distinguish the following three cases: $x\in F(m+1)$, $x\in F(m)\setminus F(m+1)$ and $x\in E(k,m)$ for some $k\in\NN$.

    Now given $x\in\{f\ne\infty\}$, we have that $x\in E(k,m)$ for some $k\in\NN$. Thus:
    $$\frac{k-1}{2^m}\leq f(x)<\frac{k}{2^m}\implies 0\leq f(x)-s_m(x)<\frac{1}{2^m}$$
    If $x\in\{f=\infty\}$, then $\displaystyle\lim_{m\to\infty}s_m(x)=m=\infty=f(x)$.
  \end{sproof}
  \begin{theorem}
    Let $f:\RR^n\rightarrow[-\infty,+\infty]$ be a measurable function. Then, there exists a sequence of simple functions $(s_m)$ such that $\displaystyle\lim_{m\to\infty}s_m(x)=f(x)$ $\forall x\in\RR^n$ and $\abs{s_m}\leq\abs{s_{m+1}}\leq \abs{f}$ $\forall m\in\NN$.
  \end{theorem}
  \begin{sproof}
    Apply \mcref{RFA:increasing-sm} to the functions $f^+$ and $f^-$ and use that $f=f^+-f^-$ and $\abs{f}=f^++f^-$.
  \end{sproof}
  \subsubsection{Lebesgue integral}
  \begin{definition}
    Let $N\in\NN$, $E_1,\ldots,E_N$ be disjoint measurable sets and $s=\sum_{k=1}^N\alpha_k\indi{E_k}$ be a positive simple function such that $0\leq\alpha_1<\cdots<\alpha_N<\infty$. We define the \emph{integral of $s$ over $\RR^n$} as: $$\int s:=\sum_{k=1}^N\alpha_k\m{E_k}$$
    We define the \emph{integral of $s$ over a measurable set $E$} as: $$\int_E s:=\int s\indi{E}=\sum_{k=1}^N\alpha_k\m{E_k\cap E}$$
  \end{definition}
  \begin{proposition}
    Let $(E_n)$ be a sequence of measurable sets and $s$, $t$ be simple functions. Then:
    \begin{enumerate}
      \item\label{RFA:proofsigma} If $\displaystyle E=\bigsqcup_{n=1}^\infty E_n$, then $\displaystyle\int_E s=\sum_{n=1}^\infty \int_{E_n} s$.
      \item $\displaystyle\int(s+t)=\int s+\int t$.
      \item If $\lambda\in\RR_{\geq 0}$, then $\displaystyle\int \lambda s=\lambda\int s$.
      \item If $s\leq t$, then $\displaystyle\int s\leq\int t$.
    \end{enumerate}
  \end{proposition}
  \begin{sproof}
    Note that we can suppose $s=\sum_{k=1}^N\alpha_k\vf{1}_{F_k}$ and $t=\sum_{k=1}^N\beta_k\vf{1}_{F_k}$ with $\alpha_k,\beta_k\geq 0$.
    \begin{enumerate}
      \item
            \begin{align*}
              \int_E s & =\sum_{k=1}^N\alpha_k\m{F_k\cap \bigsqcup_{n=1}^\infty E_n}= \sum_{k=1}^N\alpha_k\m{\bigsqcup_{n=1}^\infty(F_k\cap E_n)} \\
                       & =\sum_{n=1}^\infty\sum_{k=1}^N\alpha_k\m{F_k\cap E_n}=\sum_{n=1}^\infty \int_{E_n} s
            \end{align*}
    \end{enumerate}
    The other proofs are straightforward by considering $t\pm s = \sum_{k=1}^N(\beta_k\pm \alpha_k)\vf{1}_{F_k}$ and $\lambda s=\sum_{k=1}^N\lambda\alpha_k\vf{1}_{F_k}$.
  \end{sproof}
  \begin{proposition}
    Given a simple function $s$, the function $$\function{\mu_s}{\mathcal{M}(\RR^n)}{[0,\infty]}{E}{\displaystyle\int_E s}$$ is a measure.
  \end{proposition}
  \begin{sproof}
    Clearly $\mu_s(\varnothing)=0$ and the property of \mref{RFA:sigmaadditivity} is exactly \mcref{RFA:proofsigma}.
  \end{sproof}
  \begin{definition}
    Let $f:\RR^n\rightarrow[0,+\infty]$ be a measurable function. We define: $$\mathcal{S}(f):=\{s:s\text{ is a simple function such that }0\leq s\leq f\}$$
  \end{definition}
  \begin{definition}
    Let $f:\RR^n\rightarrow[0,+\infty]$ be a measurable function. We define the \emph{integral of $f$ over $\RR^n$} as: $$\int_{\RR^n}f(x)\dd{x}:=\sup_{s\in\mathcal{S}(f)}\int s$$ We define the \emph{integral of $f$ over a measurable set $E\subseteq \RR^n$} as: $$\int_{E}f(x)\dd{x}:=\int_{\RR^n}f(x)\indi{E}(x)\dd{x}=\sup_{s\in\mathcal{S}(f\indi{E})}\int s$$
  \end{definition}
  \begin{proposition}
    Let $E\subseteq\RR^n$ be a measurable set, $s$ be a simple function and $f$, $g$ be measurable functions such that $f(x)\leq g(x)$ $\forall x\in E$. Then:
    \begin{enumerate}
      \item $\displaystyle\int_E s=\int_Es(x)\dd{x}$
      \item $\displaystyle\int_E f(x)\dd{x}\leq \int_Eg(x)\dd{x}$
    \end{enumerate}
  \end{proposition}
  \begin{sproof}
    The first property is clear. Regarding the second one, just note that: $$\mathcal{S}(f\indi{E})\subseteq \mathcal{S}(g\indi{E})\implies \sup_{s\in\mathcal{S}(f\indi{E})}\int s\leq \sup_{s\in\mathcal{S}(g\indi{E})}\int s$$
  \end{sproof}
  \begin{theorem}[Monotone convergence theorem]\label{RFA:monotone}
    Let $E\subseteq\RR^n$ be a measurable set, $f\geq 0$ be a non-negative measurable function such that $\exists (f_m)\geq 0$ with $f_m$ measurable $\forall m\in\NN$ and $f_m\nearrow f$. Then: $$\int_Ef(x)\dd{x}=\lim_{m\to\infty}\int_Ef_m(x)\dd{x}$$
  \end{theorem}
  \begin{proof}
    The inequality $\int_Ef_m(x)\dd{x}\leq \int_Ef(x)\dd{x}$ is obvious. We need to prove the other one. To do so it suffices to show that $\forall \varepsilon>0$ and $\forall s\in\mathcal{S}(f\indi{E})$ we have $(1-\varepsilon)\int_E s\leq {\displaystyle\lim_{m\to\infty}}\int_Ef_m(x)\dd{x}$.
    Let $E_m:=\{f_m\geq (1-\varepsilon)s\}$. Note that $E_m\nearrow E$ and moreover:
    $$\int_Ef_m\geq\int_{E_m}f_m\geq(1-\varepsilon)\int_{E_m}s$$
    Since $\mu_s$ is a measure we can use \mcref{RFA:incresingseq} to conclude that $\int_{E_m}s\nearrow \int_{E}s$. Therefore, $\forall\varepsilon>0$ we have: $$(1-\varepsilon)\int_{E}s\leq \lim_{m\to\infty}\int_Ef_m$$
  \end{proof}
  \begin{proposition}
    Let $E\subseteq\RR^n$ be a measurable set with $\m{E}>0$, $f, g, (f_m)\geq 0$ be non-negative measurable functions. Then:
    \begin{enumerate}
      \item\label{RFA:postmonotoneA} $\displaystyle\int_E (f+g)(x)\dd{x}=\int_Ef(x)\dd{x}+\int_Eg(x)\dd{x}$
      \item\label{RFA:postmonotoneB} $\displaystyle\int_E\sum_{m=1}^\infty f_m(x)\dd{x}=\sum_{m=1}^\infty\int_E f_m(x)\dd{x}$
      \item\label{RFA:postmonotoneC} If $(E_k)$ is a sequence of measurable sets such that $E=\bigsqcup_{m=1}^\infty E_m$, then: $$\int_Ef(x)\dd{x}=\sum_{m=1}^\infty\int_{E_m}f(x)\dd{x}$$
      \item\label{RFA:postmonotoneD} If $\alpha\in[0,\infty)$, then $\displaystyle\int_E\alpha f(x)\dd{x}=\alpha\int_Ef(x)\dd{x}$.
      \item\label{RFA:postmonotoneE} $\displaystyle\int_Ef(x)\dd{x}=0\iff f\almoste{=}0$ on $E$.
      \item\label{RFA:postmonotoneF} If $N\subset E$ is a null set, then $\displaystyle\int_Ef(x)\dd{x}=\int_{E\setminus N}f(x)\dd{x}$.
      \item\label{RFA:postmonotoneG} If $\displaystyle\int_Ef(x)\dd{x}<\infty$, then $f\almoste{<}\infty$ on $E$.
      \item\label{RFA:postmonotoneH} If $h\in\RR^n$, then $\displaystyle\int_{E-h}f(x+h)\dd{x}=\int_{-E}f(-x)\dd{x}=\int_{E}f(x)\dd{x}$
    \end{enumerate}
  \end{proposition}
  \begin{sproof}
    \begin{enumerate}
      \item Use the \mnameref{RFA:monotone} to the sequences of simple functions $s_m\nearrow f$ and $t_m\nearrow g$ (that exists by \mcref{RFA:increasing-sm}).
      \item Use induction from \mcref{RFA:postmonotoneA} and the \mnameref{RFA:monotone} to the sequence $F_N=\sum_{m=1}^N f_m(x)$.
      \item Apply \mcref{RFA:postmonotoneB} to $f_m=f\indi{E_m}$.
      \item Use the \mnameref{RFA:monotone} and this property for simple functions (as in \mcref{RFA:postmonotoneA}).
      \item The implication to the left is clear. For the other one, define $A_m=\{f>\frac{1}{m}\}$. We would like to see that $\displaystyle\m{\{f>0\}}=\m{\lim_{m\to\infty}A_m}=0$. But $A_{m}\subseteq A_{m+1}$ and they are clearly measurable. So by \mcref{RFA:incresingseq} we have:
            \begin{align*}
              \displaystyle\m{\{f>0\}} & =\lim_{m\to\infty} \m{A_m}=\lim_{m\to\infty} \int_{A_m}\dd{x} \\
                                       & \leq\lim_{m\to\infty} m\int_{A_m}f\dd{x}=0
            \end{align*}
            Hence, the set $\{f>0\}$ is null, i.e. $f\almoste{=}0$ on $E$.
      \item Just note that $$\int_Ef=\int_{E\setminus N} f+\int_N f$$ and $\int_Nf=0$ because $\int_Ns=0$ $\forall s\in\mathcal{S}(\indi{N})$ by the construction of the Lebesgue integral.
      \item Apply \mcref{RFA:incresingseq} to the sets $A_m=\{f\geq m\}$.
      \item For indicator functions the statement is clear since if $f(x)=\indi{E}(x)$, then $f(x+h)=\indi{E-h}(x)$ and $f(-x)=\indi{-E}(x)$. Now extend this to positive simple functions and the to positive measurable functions.
    \end{enumerate}
  \end{sproof}
  \begin{corollary}
    Let $E\subseteq\RR^n$ be a measurable set, $f\geq 0$ be a non-negative measurable function such that $\exists (f_m)\geq 0$ with $f_m\almoste{\nearrow} f$. Then: $$\int_Ef(x)\dd{x}=\lim_{m\to\infty}\int_Ef_m(x)\dd{x}$$
  \end{corollary}
  \begin{sproof}
    Consequence of \mcref{RFA:postmonotoneF} with the null set $N=\{\displaystyle\lim_{m\to\infty} f_m\ne f\}$.
  \end{sproof}
  \begin{theorem}[Chebyshev's inequality]
    Let $E\subseteq\RR^n$ be a measurable set, $f:E\rightarrow\RR$ be a measurable function and $\alpha\in\RR_{>0}$. Then: $$\m{\{\abs{f}\geq\alpha\}}\leq\frac{1}{\alpha}\int_E \abs{f(x)}\dd{x}$$
  \end{theorem}
  \begin{proof}
    \begin{align*}
      \m{\{\abs{f}\geq\alpha\}} & =\int_{\{\abs{f}\geq\alpha\}}\dd{x}\leq\frac{1}{\alpha}\int_{\{\abs{f}\geq\alpha\}} \abs{f(x)}\dd{x} \\
                                & \leq\frac{1}{\alpha}\int_E \abs{f(x)}\dd{x}
    \end{align*}
  \end{proof}
  \begin{lemma}[Fatou's lemma]\label{RFA:fatou}
    Let $E\subseteq\RR^n$ be a measurable set and $(f_m)\geq 0$ be a sequence of non-negative measurable functions over $E$. Then: $$\int_E\liminf_{m\to\infty}f_m(x)\dd{x}\leq \liminf_{m\to\infty}\int_Ef_m(x)\dd{x}$$
  \end{lemma}
  \begin{sproof}
    Remember that $\displaystyle\liminf_{m\to\infty} f_m=\lim_{k\to\infty}\inf\{f_m:m\geq k\}$. Now apply \mnameref{RFA:monotone} to the increasing sequence of functions $(F_k)$ defined by $F_k=\inf\{f_m:m\geq k\}$. Bear in mind that $F_k\leq f_k$.
  \end{sproof}
  \begin{definition}
    Let $E\subseteq\RR^n$ be a measurable set and $f:E\rightarrow[-\infty,+\infty]$ be a measurable function such that either $\int_Ef^+(x)\dd{x}<\infty$ or $\int_Ef^-(x)\dd{x}<\infty$. Then, we define the \emph{integral of $f$ over $E$} as: $$\int_Ef(x)\dd{x}:=\int_Ef^+(x)\dd{x}-\int_Ef^-(x)\dd{x}$$
    We say that $f$ is an \emph{integrable function over $E$} if $${\norm{f}}_1:=\int_E\abs{f(x)}\dd{x}<\infty$$ The set of such functions is denoted by $ \mathcal{L}^1(E)$.
  \end{definition}
  \begin{proposition}
    Let $E\subseteq\RR^n$ be a measurable set and $f:E\rightarrow[-\infty,+\infty]$ be a measurable function. Then, the function $g=f\indi{\abs{f}<\infty}$ is finite and $f\almoste{=}g$.
  \end{proposition}
  \begin{proposition}
    Let $E\subseteq\RR^n$ be a measurable set. Then:
    \begin{enumerate}
      \item $ \mathcal{L}^1(E)$ is a vector space over $\RR$.
      \item The integral $$\function{\int_E}{ \mathcal{L}^1(E)}{\RR}{f}{\int_Ef}$$ is a linear form.
      \item If $f,g\in \mathcal{L}^1(E)$ are such that $f\almoste{\leq} g$ on $E$, then $\int_E f\leq\int_E g$. Moreover: $$\abs{\int_Ef(x)\dd{x}}\leq \int_E\abs{f(x)}\dd{x}$$
      \item If $f\in \mathcal{L}^1(E)$ and $E=E_1\sqcup E_2$ with $E_1$, $E_2$ measurable, then $$\int_{E_1\sqcup E_2}f(x)\dd{x}=\int_{E_1}f(x)\dd{x}+\int_{E_2}f(x)\dd{x}$$
      \item If $h\in\RR^n$, $f\in \mathcal{L}^1(E)$, then: $$\int_{E-h}f(x+h)\dd{x}=\int_{-E}f(-x)\dd{x}=\int_{E}f(x)\dd{x}$$
    \end{enumerate}
  \end{proposition}
  \begin{theorem}[Dominated convergence theorem]\label{RFA:dominated}
    Let $E\subseteq\RR^n$ be a measurable set, $f$ be a measurable function over $E$ such that $\exists (f_m)$ measurable with $f_m\almoste{\rightarrow} f$ and $\abs{f_m(x)}\almoste\leq g(x)$ on $E$ with $g\in \mathcal{L}^1(E)$ $\forall m\in\NN$. Then, $f, f_m\in \mathcal{L}^1(E)$ $\forall m\in\NN$ and: $$\int_Ef(x)\dd{x}=\lim_{m\to\infty}\int_Ef_m(x)\dd{x}$$
  \end{theorem}
  \begin{proposition}
    Let $E\subseteq\RR^n$ be a measurable set, $f,g\in \mathcal{L}^1(E)$ and $\lambda\in\RR$. Then:
    \begin{enumerate}
      \item ${\norm{f+g}}_1\leq{\norm{f}}_1+{\norm{g}}_1$
      \item ${\norm{\lambda f}}_1=\abs{\lambda}{\norm{f}}_1$
      \item ${\norm{f}}_1=0\iff f\almoste{=}0$.
    \end{enumerate}
  \end{proposition}
  \begin{definition}
    Let $E\subseteq\RR^n$ be a measurable set and $(f_m),f\in \mathcal{L}^1(E)$. We say that $(f_m)$ \emph{converge in mean} to $f$ if $\displaystyle\lim_{m\to\infty}{\norm{f_m-f}}_1=0$, or equivalently $\displaystyle\lim_{m\to\infty} f_m=f$ on $ \mathcal{L}^1(E)$.
  \end{definition}
  \begin{theorem}
    Let $E\subseteq\RR^n$ be a measurable set and $(f_m)\in \mathcal{L}^1(E)$.
    \begin{enumerate}
      \item If $\sum_{m=1}^\infty {\norm{f_m}}_1<\infty$, $\exists f\in \mathcal{L}^1(E)$ such that $\sum_{m=1}^\infty f_m =f$ on $ \mathcal{L}^1(E)$ and $\sum_{m=1}^\infty f_m(x)=f(x)$ converges absolutely $\forall x\in E\setminus N$, where $N$ is a null set.
      \item If $\displaystyle\lim_{m\to\infty} f_m=f$ on $ \mathcal{L}^1(E)$, then there exists a subsequence $(f_{m_k})$ such that $\displaystyle\lim_{k\to\infty} f_{m_k}=f$ on $ \mathcal{L}^1(E)$ and  $\displaystyle\lim_{k\to\infty} f_{m_k}(x)=f(x)$ $\forall x\in E\setminus N$, where $N$ is a null set.
    \end{enumerate}
  \end{theorem}
  \begin{proposition}
    Let $E\subseteq\RR^n$ be a measurable set and $f\in \mathcal{L}^1(E)$. Then, there exists a sequence of integrable simple functions $(s_m)$ such that $\displaystyle\lim_{m\to\infty} s_m=f$ on $ \mathcal{L}^1(E)$, $\displaystyle\lim_{m\to\infty} s_m(x)=f(x)$ $\forall x\in E$ and $\abs{s_m}\leq\abs{s_{m+1}}\leq \abs{f}$ $\forall m\in\NN$.
  \end{proposition}
  \subsubsection{Integral calculus in one variable and Riemann integral}
  \begin{definition}
    Given a function $f:\RR\rightarrow\RR$, we say that $\int_a^bf(x)\dd{x}$ \emph{exists and it is finite} if $f$ is integrable on $(\min\{a,b\},\max\{a,b\})$\footnote{Note that if $f$ is measurable, the integral always exists, but it may be $\pm\infty$.}.
  \end{definition}
  \begin{theorem}[Mean value theorem for integrals]
    Let $f:\RR\rightarrow\RR_{\geq 0}$ be a positive integrable function over $(a,b)$ and $g:(a,b)\rightarrow\RR$ be a measurable and bounded function such that $\alpha\leq g(x)\leq\beta$ almost everywhere on $(a,b)$. Then, $\exists\gamma\in[\alpha,\beta]$ such that: $$\int_a^bg(x)f(x)\dd{x}=\gamma\int_a^bf(x)\dd{x}$$
    Moreover if $g$ is continuous, $\exists\xi\in(a,b)$ such that: $$\int_a^bg(x)f(x)\dd{x}=g(\xi)\int_a^bf(x)\dd{x}$$
    In particular, taking $f=1$, we get:  $$\int_a^bg(x)\dd{x}=g(\xi)(b-a)$$
  \end{theorem}
  \begin{theorem}[Barrow's law]
    If $f:[a,b]\rightarrow\RR$ is a continuous function and derivable on $(a,b)$ with bounded derivative, then $f'\in \mathcal{L}^1((a,b))$ and $$\int_a^bf'(x)\dd{x}=f(b)-f(a)$$
  \end{theorem}
  \begin{theorem}[Fundamental theorem of calculus]
    Let $f:(a,b)\rightarrow\RR$ be an integrable function and continuous at $y\in (a,b)$. Then, $F(x)=\int_a^xf(s)\dd{s}$ is derivable at $y$ and $F'(y)=f(y)$.
  \end{theorem}
  \begin{theorem}
    Let $\varphi:[\alpha,\beta]\rightarrow[c,d]$ be a continuous function and derivable with bounded derivative on $(\alpha,\beta)$. Let $a=\varphi(\alpha)$ and $b=\varphi(\beta)$. If $f:[c,d]\rightarrow\RR$ is a continuous function, then $(f\circ\varphi)\varphi'$ is integrable on $(\alpha,\beta)$ and: $$\int_c^df(x)\dd{x}=\int_\alpha^\beta f(\varphi(t))\varphi'(t)\dd{t}$$
  \end{theorem}
  \begin{theorem}[Integration by parts]
    Let $F,G:[a,b]\rightarrow\RR$ be the primitives of the two bounded functions $f,g:(a,b)\rightarrow\RR$. Then, $Fg,fG\in \mathcal{L}^1(a,b)$ and: $$\int_a^bF(x)g(x)\dd{x}=F(a)G(a)-F(b)G(b)-\int_a^bf(x)G(x)\dd{x}$$
  \end{theorem}
  \begin{theorem}
    Let $f:[a,b]\rightarrow\RR$ be a Riemann integrable function. Then, $f$ is also Lebesgue integrable and both integrals coincide.
  \end{theorem}
  \subsubsection{Functions defined by integrals}
  \begin{theorem}\label{RFA:diffUnderIntegralSign}
    Let $E\subseteq\RR^n$ be a measurable set, $I\subseteq \RR$ be an interval, $g\in \mathcal{L}^1(E)$ be such that $g\geq 0$ and $f(\cdot, t)$ be an integrable function $\forall t\in I$. We denote: $$\Phi(t):=\int_Ef(x,t)\dd{x}$$
    \begin{enumerate}
      \item If $f(x,\cdot)$ is continuous on $t_0$ almost everywhere on $E$ and $\abs{f(x,t)}\almoste\leq g(x)$ $\forall t\in I$, then $\Phi$ is continuous at $t_0$.
      \item If $f(x,\cdot)$ is derivable on $t_0$ almost everywhere on $E$ and $$\abs{\pdv{f}{t}(x,t)}\almoste\leq g(x)\quad\forall t\in I$$ then the function $\pdv{f}{t}(x,\cdot)$ is integrable on $E$ and $$\Phi'(t_0)=\int_E\pdv{f}{t}(x,t_0)\dd{x}$$
    \end{enumerate}
  \end{theorem}
  \begin{definition}[Hardy-Littlewood maximal function]
    Let $f\in \mathcal{L}^1(\RR^n)$ and $B\subseteq \RR^n$ be a ball. We define the \emph{Hardy-Littlewood maximal function} as: $$Mf(x)=\sup_{x\in B}\frac{1}{\m{B}}\int_B\abs{f(y)}\dd{y}$$
  \end{definition}
  \begin{theorem}
    Let $f\in \mathcal{L}^1(\RR^n)$ and $B\subseteq \RR^n$ be a ball. Then:
    \begin{enumerate}
      \item $Mf$ is measurable.
      \item $Mf\almoste{<}\infty$.
      \item $\displaystyle\m{\{x\in\RR^n : Mf(x) > \alpha\}} \leq \frac{A}{\alpha}\int_{\RR^n} \abs{f(x)}\dd{x}$.
    \end{enumerate}
  \end{theorem}
  \begin{theorem}[Lebesgue differentiation theorem]
    Let $f\in \mathcal{L}^1(\RR^n)$ and $B\subseteq \RR^n$ be a ball. Then: $$\lim_{\m{B}\to 0}\frac{1}{\m{B}}\int_Bf(y)\dd{y} \almoste{=} f(x) \qquad x\in  B$$
  \end{theorem}
  \begin{proposition}
    Let $f\in \mathcal{L}^1(\RR^n)$ and suppose $Mf\in \mathcal{L}^1(\RR^n)$. Then, $f=0$.
  \end{proposition}
  \subsubsection{Fubini-Tonelli theorem}
  \begin{definition}
    Let $E\subseteq\RR^{p+q}$ and $y\in\RR^q$. We define the \emph{section} of $E$ at $y$ as: $$E(y):=\{x\in\RR^p:(x,y\in E)\}$$
  \end{definition}
  \begin{proposition}
    Let $E,F,E_k\subseteq\RR^{p+q}$, $k\in\NN$, and $y\in\RR^q$. Then:
    \begin{enumerate}
      \item If $E= A\times B$, with $A\subseteq \RR^p$ and $B\subseteq \RR^q$, then $E(y)=A$ if $y\in B$ and $E(y)=\varnothing$ if $y\notin B$.
      \item $E\cap F=\varnothing\implies E(y)\cap F(y)=\varnothing$.
      \item \hfill\begin{enumerate}
              \item $\displaystyle\left(\bigcap_{k=1}^\infty E_k\right)(y)=\bigcap_{k=1}^\infty E_k(y)$
              \item $\displaystyle\left(\bigcup_{k=1}^\infty E_k\right)(y)=\bigcup_{k=1}^\infty E_k(y)$
              \item $\displaystyle\left(E\setminus F\right)(y)=E(y)\setminus F(y)$
            \end{enumerate}
      \item If $E(y)$ is measurable, then: $$\m{E(y)}=\int_{\RR^p}\indi{E}(x,y)\dd{x}$$ In particular, if $E$ is an interval $E=I_p\times I_q$, then: $$\m{I(y)}=\m{I_p}\indi{I_q}(y)$$
    \end{enumerate}
  \end{proposition}
  \begin{lemma}
    Let $E\subseteq\RR^{p+q}$ be a measurable set. Then:
    \begin{enumerate}
      \item There exists a null set $N\subset \RR^q$ such that $E(y)$ is measurable $\forall y\in\RR^q\setminus N$ (that is $E(y)$ is measurable almost everywhere $\forall y\in\RR^q$).
      \item The function $$\Phi(y)=\begin{cases}
                \m{E(y)} & \text{if } y\in\RR^q\setminus N \\
                0        & \text{if } y\in N
              \end{cases}$$ is measurable and positive on $\RR^q$.
      \item $\displaystyle\m{E}=\int_{\RR^q}\m{E(y)}\dd{y}$
    \end{enumerate}
  \end{lemma}
  \begin{theorem}[Tonelli's theorem]
    Let $f:\RR^{p+q}\rightarrow[0,\infty]$ be a non-negative measurable function. Then:
    \begin{enumerate}
      \item $f(\cdot,y)$ and $f(x,\cdot)$ are measurable almost everywhere $x\in\RR^p$, $y\in\RR^q$.
      \item Let $N_p$ and $N_q$ be the respective null sets where the above functions aren't measurable. Then the functions
            \begin{align*}
              \Phi(y) & =\begin{cases}
                           \int_{\RR^p}f(x,y)\dd{x} & \text{if } y\in\RR^q\setminus N_q \\
                           0                        & \text{if } y\in N_q
                         \end{cases} \\ \Psi(x)&=\begin{cases}
                \int_{\RR^q}f(x,y)\dd{y} & \text{if } x\in\RR^p\setminus N_p \\
                0                        & \text{if } x\in N_p
              \end{cases}
            \end{align*}
            are measurable on $\RR^q$ and $\RR^x$, respectively.
      \item \hfill $$\int_{\RR^q}\Phi(y)\dd{y}=\int_{\RR^{p+q}}f(x,y)\dd{(x,y)}=\int_{\RR^p}\Psi(x)\dd{x}$$
    \end{enumerate}
  \end{theorem}
  \begin{corollary}
    Let $f:\RR^{p+q}\rightarrow[0,\infty]$ be a non-negative measurable function. Then:
    \begin{align*}
      \int_{\RR^{p+q}}f(x,y)\dd{(x,y)} & =\int_{\RR^q}\left(\int_{\RR^p}f(x,y)\dd{x}\right)\dd{y} \\
                                       & =\int_{\RR^p}\left(\int_{\RR^q}f(x,y)\dd{y}\right)\dd{x}
    \end{align*}
    These identities are sometimes written as:
    \begin{align*}
      \int_{\RR^{p+q}}f(x,y)\dd{x}\dd{y} & =\int_{\RR^q}\dd{y}\int_{\RR^p}f(x,y)\dd{x} \\
                                         & =\int_{\RR^p}\dd{x}\int_{\RR^q}f(x,y)\dd{y}
    \end{align*}
  \end{corollary}
  \begin{corollary}
    Let $f:\RR^{p+q}\rightarrow\RR$ be a measurable function. Then, $f$ is integrable if and only if: $$\int_{\RR^q}\dd{y}\int_{\RR^p}\abs{f(x,y)}\dd{x}<\infty$$
  \end{corollary}
  \begin{theorem}[Fubini's theorem]\label{RFA:fubini}
    Let $f\in \mathcal{L}^1(\RR^{p+q})$. Then:
    \begin{enumerate}
      \item $f(\cdot,y)\overset{\text{a.e.}}{\in} \mathcal{L}^1(\RR^p)$ and $f(x,\cdot)\overset{\text{a.e.}}{\in}\mathcal{L}^1(\RR^q)$, $x\in\RR^p$, $y\in\RR^q$.
      \item Let $N_p$ and $N_q$ be the respective null sets where the above functions aren't integrable. Then the functions
            \begin{align*}
              \Phi(y) & =\begin{cases}
                           \int_{\RR^p}f(x,y)\dd{x} & \text{if } y\in\RR^q\setminus N_q \\
                           0                        & \text{if } y\in N_q
                         \end{cases} \\ \Psi(x)&=\begin{cases}
                \int_{\RR^q}f(x,y)\dd{y} & \text{if } x\in\RR^p\setminus N_p \\
                0                        & \text{if } x\in N_p
              \end{cases}
            \end{align*}
            are integrable on $\RR^q$ and $\RR^p$, respectively.
      \item \hfill $$\int_{\RR^q}\Phi(y)\dd{y}=\int_{\RR^{p+q}}f(x,y)\dd{(x,y)}=\int_{\RR^p}\Psi(x)\dd{x}$$
    \end{enumerate}
  \end{theorem}
  \subsubsection{Change of variables}
  \begin{definition}
    Let $U,V\subseteq\RR^n$ be open sets. A \emph{change of variables} is a diffeomorphism $\vf\varphi:U\rightarrow V$ of class $\mathcal{C}^1$.
  \end{definition}
  \begin{theorem}[Change of variables]
    Let $U,V\subseteq\RR^n$ be open sets and $\vf\varphi:U\rightarrow V$ be a change of variables. If $f:\RR^n\rightarrow[0,\infty]$ is measurable or integrable on $V$, then so is $(f\circ\vf\varphi)\abs{J\vf\varphi}$ and: $$\int_{V} f(x)\dd{x}=\int_Uf(\vf\varphi(t))\abs{J\vf\varphi(t)}\dd{t}$$
  \end{theorem}
  \subsection{Banach spaces}
  \subsubsection{Normed vector spaces}
  \begin{definition}
    Let $M$ be a set. A \emph{distance} in $M$ is a function $d:M\times M\rightarrow\RR $ such that $\forall x,y,z\in M$ the following properties are satisfied:
    \begin{enumerate}
      \item $d(x,y)=0\iff x=y$
      \item $d(x,y)=d(y,x)$
      \item $d(x,y)\leq d(x,z)+d(z,y)\quad$(\emph{triangular inequality})
    \end{enumerate}
    We define a \emph{metric space} as a pair $(M,d)$ that satisfy the previous properties.
  \end{definition}
  \begin{proposition}
    Let $(M_1,d_1),\ldots,(M_n,d_n)$ be metric spaces. Then, $M_1\times\cdots\times M_n$ with the distance $$d(x,y)=\max\{d_i(x_i,y_i):i=1,\ldots,n\}$$ where $x=(x_1,\ldots,x_n)$, $y=(y_1,\ldots,y_n)$, is a metric space.
  \end{proposition}
  \begin{definition}
    A metric space $(M,d)$ is \emph{complete} if every Cauchy sequence in $M$ converges in $M$.
  \end{definition}
  \begin{definition}
    Let $E$ be a real (or complex) vector space. A \emph{norm} on $E$ is a function $\|\cdot\|:E\rightarrow\KK$ (where $\KK=\RR,\CC$) such that $\forall \vf{u},\vf{v}\in E$ and $\forall\lambda\in\KK $ the following properties are satisfied:
    \begin{enumerate}[ref = Triangular inequality]
      \item $\|\vf{u}\|=0\iff \vf{u}=0$
      \item $\|\lambda \vf{u}\|=|\lambda|\|\vf{u}\|$
            \item\label{RFA:triangularineq} $\|\vf{u}+\vf{v}\|\leq \|\vf{u}\|+\|\vf{v}\|\quad$(\emph{triangular inequality})
    \end{enumerate}
    We define a \emph{normed vector space} as a pair $(E,\|\cdot\|)$ that satisfy the previous properties.
  \end{definition}
  \begin{proposition}
    Let $(E_1,\norm{\cdot}_1),\ldots,(E_n,\norm{\cdot}_n)$ be normed vector spaces. Then, $E_1\times\cdots\times E_n$ with the norm $$\norm{(x_1,\ldots,x_n)}=\max\{{\norm{x_i}}_i:i=1,\ldots,n\}$$ is a normed vector space.
  \end{proposition}
  \begin{proposition}\label{RFA:sumproduct_func}
    Let $(E,\|\cdot\|)$ be a normed vector space and consider the following functions:
    $$\function{S}{E\times E}{E}{(x,y)}{x+y}\quad\function{P}{\RR\times E}{E}{(\lambda,x)}{\lambda x}$$ Then:
    \begin{enumerate}
      \item $S$ is uniformly continuous.
      \item $P$ is continuous.
      \item $\norm{\cdot}:E\rightarrow\RR$ is Lipschitz continuous: $$\abs{\norm{x}-\norm{y}}\leq\norm{x-y}\qquad\forall x,y\in E$$
    \end{enumerate}
  \end{proposition}
  \begin{sproof}
    \begin{enumerate}
      \doubleitem It follows from the \mref{RFA:triangularineq}.
      \item Consider the inequalities: $$\norm{x}\leq\norm{x-y}+\norm{y}\qquad\norm{y}\leq\norm{y-x}+\norm{x}$$
    \end{enumerate}
  \end{sproof}
  \begin{definition}
    Let $(E,\|\cdot\|)$ be a normed vector space and $(x_n)\in E$ be a sequence. We say that $\sum_{n=1}^\infty x_n$ is a \emph{convergent series} in $E$ that converges to $x\in E$ if: $$\lim_{N\to\infty}\norm{x-\sum_{n=1}^N x_n}=0 $$
    We say that $\sum_{n=1}^\infty x_n$ is \emph{absolutely convergent} if: $$\sum_{n=1}^\infty\norm{x_n}<\infty$$
  \end{definition}
  \begin{proposition}
    Let $(E,\|\cdot\|)$ be a normed vector space and $\sum_{n=1}^\infty x_n=x$ be a convergent series. Then: $$\norm{x}\leq \sum_{n=1}^\infty\norm{x_n}$$
  \end{proposition}
  \begin{proof}
    $$\norm{x}=\lim_{N\to\infty}\norm{\sum_{n=1}^N x_n}\leq \lim_{N\to\infty}\sum_{n=1}^N\norm{x_n}= \sum_{n=1}^\infty\norm{x_n}$$
  \end{proof}
  \begin{definition}[Banach space]
    A \emph{Banach space} is normed vector space which is complete with the distance associated with the norm.
  \end{definition}
  \begin{theorem}
    Let $(E,\|\cdot\|)$ be a normed vector space. Then, $(E,\|\cdot\|)$ is a Banach space if and only if every series in $E$ that converges absolutely, converges.
  \end{theorem}
  \begin{proof}
    \begin{itemizeiff}
      Let $\sum_{n=1}^\infty x_n$ be a sequence in $E$ that converges absolutely. Then, $\forall \varepsilon>0$ and $\forall M>N>0$ large enough we have:
      \begin{align*}
        \norm{\sum_{n=1}^M x_n-\sum_{n=1}^Nx_n} & \leq \sum_{n=N+1}^M\norm{x_n}\leq \sum_{n=N+1}^\infty\norm{x_n} \\
                                                & <\varepsilon
      \end{align*}
      because it is the tail of a convergent series. Thus, $\sum_{n=1}^\infty x_n<\infty$ because it is Cauchy and $E$ is Banach.
      \item Let $(y_n)\in E$ be a Cauchy sequence. Then, $\forall k\in\NN$, $\exists n_k$ such that $\forall p,q\geq n_k$ we have: $$\norm{y_p-y_q}<\frac{1}{2^k}$$
      Now consider the sequence $(x_m)\in E$ defined as $x_1=y_{n_1}$ and $x_m=y_{n_m}-y_{n_{m-1}}$ $\forall m\geq 2$. Therefore, $\norm{x_m}\leq \frac{1}{2^{m-1}}$ $\forall m\geq 2$ and so the series $\sum_{m=1}^\infty \norm{x_m}$ converges, and so does the series $\sum_{m=1}^\infty x_m=:x\in E$. Since, $\sum_{m=1}^M x_m=y_{n_M}$ we have that $\displaystyle \lim_{M\to\infty} y_{n_M}=x$. Finally, as $(y_{n_M})$ is a subsequence of $(y_n)$, which is Cauchy, we have that $\displaystyle \lim_{n\to\infty} y_n=x$.
    \end{itemizeiff}
  \end{proof}
  \begin{proposition}
    The space $\mathcal{B}([a,b])$ of continuous and bounded functions with the \emph{uniform norm} $$\norm{f}_\infty:=\sup\{\abs{f(t)}:t\in[a,b]\}$$
    is Banach.
  \end{proposition}
  \begin{proof}
    Let $(f_n)\in \mathcal{B}([a,b])$ be Cauchy. Then, for each $x\in[a,b]$, the numeric sequence $(f_n(x))$ is Cauchy and so it  converges pointwise to a function $f(x)$. Thus, we have:
    $$\lim_{n,m\to\infty}\abs{f_n(x)-f_m(x)}=\lim_{n\to\infty}\abs{f_n(x)-f(x)}$$ which is valid $\forall x\in[a,b]$. Hence, $\displaystyle\lim_{n\to\infty}\norm{f_n-f}_\infty$ and clearly $f\in\mathcal{B}([a,b])$, as it is the uniform limit of continuous and bounded functions.
  \end{proof}
  \begin{proposition}\label{RFA:closurevectorsubspace}
    Let $(E,\|\cdot\|)$ be a normed vector space and $F\subseteq E$ be a vector subspace. Then, $\overline{F}$ is also a vector subspace of $E$.
  \end{proposition}
  \begin{sproof}
    Let $x,y\in\overline{F}$ and $\lambda\in\KK$. Then, $\exists(x_n),(y_n)\in F$ such that $\displaystyle \lim_{n\to\infty}x_n=x$ and $\displaystyle \lim_{n\to\infty}y_n=y$. The continuity of the functions defined in \mcref{RFA:sumproduct_func} implies $x+y\in\overline{F}$ and $\lambda x\in\overline{F}$.
  \end{sproof}
  \begin{proposition}
    Let $(E,\|\cdot\|)$ be a normed vector space and $F\subseteq E$ be a vector subspace.
    \begin{enumerate}
      \item If $F$ is complete, it is closed.
      \item If $F$ is closed and $E$ is Banach, then $F$ is complete.
    \end{enumerate}
  \end{proposition}
  \begin{proof}
    \begin{enumerate}
      \item Let $x\in\overline{F}$. Then, $\exists(x_n)\in F$ such that $\displaystyle \lim_{n\to\infty}x_n=x$. In particular $(x_n)$ is Cauchy and since $F$ is complete, we conclude $x\in F$.
      \item Let $(x_n)\in F$ be a Cauchy sequence. In particular, it is a Cauchy sequence in $E$ and so $\exists x\in E$ with $\displaystyle \lim_{n\to\infty}x_n=x$. Moreover, this $x$ satisfies $x\in \overline{F}$ and since $F$ is closed, $x\in F$.
    \end{enumerate}
  \end{proof}
  \begin{definition}
    Let $(E,\|\cdot\|)$ be a normed vector space and $A\subseteq E$ be a subset. We say that $A$ is a \emph{total subset} if $\langle A\rangle$ is dense in $E$.
  \end{definition}
  \begin{remark}
    The linear span $\langle A\rangle$ exclude the infinite linear combinations of elements in $A$, even if $A$ is a subspace of infinite dimension.
  \end{remark}
  \begin{definition}
    A metric space is called \emph{separable} if it contains a countable dense subset.
  \end{definition}
  \begin{proposition}
    A normed vector space $E$ is separable if and only if it contains a total countable subset.
  \end{proposition}
  \begin{proof}
    The implication to the right is evident. For the other one, let $A$ be the total countable subset and consider the set $\langle A\rangle_{\QQ}$ of rational linear combinations. This set is countable and dense in $\langle A\rangle$. Since the latter one is also dense in $E$, we conclude that $\langle A\rangle_{\QQ}$ is dense in $E$.
  \end{proof}
  \begin{proposition}
    Let $M$ be a separable metric space and $S\subseteq M$ be a subspace. Then, $S$ is separable.
  \end{proposition}
  \begin{proof}
    Let $A$ be the countable dense subset of $M$. The balls $B(y,1/n)$ with $y\in A$, $n\in\NN$ cover $S$. For each $y\in N$, let $A_n$ be the set formed by one point of each nonempty $B(y,1/n)\cap S$. The set $\bigcup_{n=1}^\infty A_n$ is dense in $S$.
  \end{proof}
  \begin{proposition}
    Let $M$, $N$ be separable metric spaces. Then, $M\times N$ is separable.
  \end{proposition}
  \begin{sproof}
    The product of two dense subsets is dense with the product topology.
  \end{sproof}
  \subsubsection{Quotient space}
  \begin{definition}
    Let $E$ be a normed vector space and $F$ be a closed subspace. We define the \emph{quotient space} $\quot{E}{F}$ as the respective quotient vector space with the associated norm:
    \begin{align*}
      \norm{\overline{x}}_{\quot{E}{F}} & :=\inf\{\norm{z}_E:z\in E\text{ with }\overline{z} = \overline{x}\} \\
                                        & =\inf\{\norm{x+y}_E:y\in F\}
    \end{align*}
  \end{definition}
  \begin{proposition}
    Let $E$ be a normed vector space and $F$ be a closed subspace. The quotient space $\quot{E}{F}$ is a normed vector space. Moreover, the map $$\function{\pi}{E}{\quot{E}{F}}{x}{\overline{x}}$$ is continuous with $\norm{\overline{x}}_{\quot{E}{F}}\leq \norm{x}_E$.
  \end{proposition}
  \begin{sproof}
    Note that $\overline{x}=x+F$ and so $$\norm{\overline{x}}_{\quot{E}{F}}=d(0,x+F)=0\iff 0\in x+ F\iff \overline{x}=\overline{0}$$
    The inequality follows from the fact that $\norm{\overline{y}}_{\quot{E}{F}}=0$ $\forall y\in F$. From here, the continuity is clear.
  \end{sproof}
  \begin{lemma}
    Let $E$ be a normed vector space and $F$ be a closed subspace.
    \begin{enumerate}
      \item If $E$ is Banach, so is $\quot{E}{F}$.
      \item If $E$ is separable, so is $\quot{E}{F}$.
    \end{enumerate}
  \end{lemma}
  \begin{sproof}
    \begin{enumerate}
      \item Let $\sum_{n=1}^\infty\norm{\overline{x_n}}_{\quot{E}{F}}<\infty$ and for each $n\in\NN$ take $x_n\in\overline{x_n}$ with $\norm{x_n}\leq 2\norm{\overline{x_n}}_{\quot{E}{F}}$. Then, $\sum_{n=1}^\infty\norm{x_n}<\infty$ and since $E$ is Banach, $\sum_{n=1}^\infty x_n=x\in E$. The continuity and linearity of $\pi$ implies $\sum_{n=1}^\infty \overline{x_n}=\overline{x}$. Hence, $\quot{E}{F}$ is Banach.
      \item Note that the density and countability of sets are invariant under $\pi$.
    \end{enumerate}
  \end{sproof}
  \subsubsection{\texorpdfstring{$L^p$}{Lp} spaces}
  \begin{definition}
    Let $E\subseteq\RR^n$ be a measurable set and $1\leq p<\infty$. We define:
    \begin{align*}
      \mathcal{L}^p(E) & :=\left\{{f}:E\rightarrow \RR^n\text{ measurable}:\int_E\abs{{f}}^p<\infty\right\}                                                                                                            \\
      \begin{split}
        \mathcal{L}^\infty(E) & :=\left\{{f}:E\rightarrow \RR^n\text{ measurable}:\exists M>0\text{ with }\right. \\&\hspace{4.4cm}\left.\abs{{f}(x)}\almoste{\leq} M, x\in E\right\}
      \end{split} \\
      \mathcal{N}(E)   & :=\{{f}:E\rightarrow \RR^n\text{ measurable}:{f}\almoste{=} 0\}
    \end{align*}
  \end{definition}
  \begin{definition}
    Let $E\subseteq\RR^n$ be a measurable set and $1\leq p\leq\infty$. We define: $$L^p(E):=\quot{\mathcal{L}^p(E)}{\mathcal{N}(E)}$$
  \end{definition}
  \begin{lemma}[Young's inequality for products]\label{RFA:young}
    Let $a,b>0$ and $1\leq p,q\leq \infty$ be such that $\frac{1}{p}+\frac{1}{q}=1$. Then:
    $$ab\leq\frac{a^p}{p}+\frac{b^q}{q}$$
    And the equality holds if and only if $a^p=b^q$.
  \end{lemma}
  \begin{sproof}
    Let $f:[0,a]\rightarrow\RR$ be continuous and invertible such that $f(0)=0$. Then, we have
    $$ab\leq \int_{0}^{a}f(x)\dd{x}+\int_{0}^{b}f^{-1}(x)\dd{x}$$
    with equality if and only if $f(a)=b$ (see \mcref{RFA:youngfigure} for a better understanding). Now take $f(x)= x^{p-1}$ and so $f^{-1}(x)=x^{q-1}$. The equality is held if: $$a^{p-1} = b\text{ and }b^{q-1}=a\iff a^p = b^q$$
    \begin{figure}[H]
      \centering
      \includestandalone[mode=image|tex,width=0.7\linewidth]{Images/young}
      \caption{}
      \label{RFA:youngfigure}
    \end{figure}
  \end{sproof}
  \begin{definition}
    We say that $p,q\geq 1$ are \emph{Hölder conjugates} if $\frac{1}{p}+\frac{1}{q}=1$.
  \end{definition}
  \begin{proposition}[Hölder's inequality]\label{RFA:holder}
    Let $E\subseteq\RR^n$ be a measurable set, $1\leq p,q\leq \infty$ be such that $\frac{1}{p}+\frac{1}{q}=1$ and ${f}\in L^p(E)$, ${g}\in L^q(E)$. Then:
    $$\int_E\abs{fg}\leq {\left(\int_E\abs{f}^p\right)}^{1/p}{\left(\int_E\abs{g}^q\right)}^{1/q}$$
    Or equivalently (see \mcref{RFA:lpnorm}):
    $$\norm{{fg}}_1\leq\norm{{f}}_p\norm{{g}}_q$$
    And the equality holds if and only if $\exists \alpha,\beta\in\RR_{\geq 0}$ such that $\alpha{\abs{{f}}}^p\almoste{=}\beta{\abs{{g}}}^q$.
  \end{proposition}
  \begin{proof}
    Dividing $f$ by $\norm{f}_p$ and $g$ by $\norm{g}_q$ we can assume that $\norm{f}_p=\norm{g}_q=1$. Then, using \mnameref{RFA:young} we have:
    $$\int_E\abs{f(x)g(x)}\dd{x}\leq\int_E\left(\frac{\abs{f(x)}^p}{p}+\frac{\abs{g(x)}^q}{q}\right)\dd{x}=\frac{1}{p}+\frac{1}{q}=1$$
    The equality follows from the equality in \mnameref{RFA:young}.
  \end{proof}
  \begin{corollary}[Hölder's inequality]
    Let $E\subseteq\RR^n$ be a measurable set, $1\leq p,q, r\leq \infty$ be such that $\frac{1}{p}+\frac{1}{q}=\frac{1}{r}$ and ${f}\in L^p(E)$, ${g}\in L^q(E)$. Then, $fg\in L^r(E)$ and:
    $$\norm{{fg}}_r\leq\norm{{f}}_p\norm{{g}}_q$$
  \end{corollary}
  \begin{sproof}
    Use \mnameref{RFA:holder} with $F:=\abs{f}^r\in L^{\frac{p}{r}}(E)$ and $G:=\abs{g}^r\in L^{\frac{q}{r}}(E)$, noting that $p/r$ and $q/r$ are Hölder conjugates.
  \end{sproof}
  \begin{corollary}[Interpolation inequality]
    Let $E\subseteq\RR^n$ be a measurable set, $1\leq p_1\leq p_2\leq \infty$ and $f\in L^{p_1}(E)\cap L^{p_2}(E)$. Then, $\forall p\in[p_1,p_2]$ we have $f\in L^p(E)$ and:
    $$
      \norm{f}_p\leq {\norm{f}_{p_1}}^\alpha{\norm{f}_{p_2}}^{1-\alpha}
    $$
    with $\alpha\in[0,1]$ such that $\frac{1}{p}=\frac{\alpha}{p_1}+\frac{1-\alpha}{p_2}$.
  \end{corollary}
  \begin{proposition}\label{RFA:lpnorm}
    Let $E\subseteq\RR^n$ be a measurable set and $1\leq p<\infty$. The set $L^p(E)$ is a normed vector space with the norm: $$\norm{{f}}_p:={\left(\int_E\abs{{f}}^p\right)}^{1/p}\qquad\forall{f}\in L^p(E)$$
    And the set $L^\infty(E)$ is also a normed vector space with the norm: $$\norm{{f}}_\infty=\inf \{M:\abs{{f}(x)}\almoste{\leq} M, x\in E\}\qquad\forall{f}\in L^\infty(E)$$
  \end{proposition}
  \begin{sproof}
    The case of $L^\infty(E)$ is easy and the first two properties for $L^p(E)$, $p\geq 1$, too (remember \mcref{RFA:postmonotoneE}). It's missing to prove the \mref{RFA:triangularineq} (also called \emph{Minkowski inequality} in this case): $$\norm{f+g}_p\leq \norm{f}_p+\norm{g}_p$$
    We have that:
    \begin{align*}
      {\norm{f+g}_p}^p & =\int_E\abs{f+g}\abs{f+g}^{p-1}                                            \\
                       & \leq \int_E\abs{f}\abs{f+g}^{p-1}+\int_E\abs{g}\abs{f+g}^{p-1}             \\
      \begin{split}
        & \leq \left[{\left(\int_E\abs{f}^p\right)}^{1/p}+{\left(\int_E\abs{g}^p\right)}^{1/p}\right]\cdot \\
        & \hspace{2.5cm}\cdot{\left(\int_E\abs{f+g}^{(p-1)\frac{p}{p-1}}\right)}^{1-1/p}
      \end{split} \\
                       & =(\norm{f}_p+\norm{g}_p)\frac{{\norm{f+g}_p}^p }{{\norm{f+g}_p}}
    \end{align*}
  \end{sproof}
  \subsubsection{Other important Banach spaces}
  \begin{definition}
    Let $I$ be an index set. We denote by $c_0(I)$ the space of all sequences convergent to 0; by $c(I)$, the space of all convergent sequences, and by $\ell^\infty(I)$, the space of all bounded sequences.
  \end{definition}
  \begin{proposition}
    Let $I$ be an index set. The spaces $c_0(I)$, $c(I)$ and $\ell^\infty(I)$ with the \emph{uniform norm} $$\norm{(x_n)}_\infty:=\sup\{\abs{x_n}:n\in\NN\}$$
    are Banach.
  \end{proposition}
  \begin{definition}
    Let $1\leq p<\infty$ and $I$ be an index set. We define the space $\ell^p(I)$ as the space of the sequences $x=(x_n)$ such that:
    $$\norm{x}_p:={\left(\sum_{n=1}^\infty{x_n}^p\right)}^{1/p}<\infty$$
  \end{definition}
  \begin{proposition}
    Let $I$ be an index set. The space $(\ell^p(I),\norm{\cdot}_p)$ is Banach.
  \end{proposition}
  \subsubsection{Space of continuous functions}
  \begin{definition}
    Let $X\ne \varnothing$ be a set. We define the set $\mathcal{B}(X)$ as the vector space over $\KK=\RR,\CC$ of the functions $f:X\rightarrow\KK$ that are bounded with the \emph{uniform norm} (or \emph{supremum norm}): $$\norm{f}:=\norm{f}_X:=\sup\{\abs{f(x)}:x\in X\}$$
  \end{definition}
  \begin{proposition}
    Let $X\ne \varnothing$ be a set and $(f_n),f\in\mathcal{B}(X)$ be functions. Then: $$\lim_{n\to\infty}\norm{f_n-f}=0\iff f_n\text{ converges uniformly to }f$$
  \end{proposition}
  \begin{sproof}
    Remember the characterization \mcref{MA:sup-equivalence}.
  \end{sproof}
  \begin{definition}
    Let $K\subseteq \KK^n$ be a compact set. We define $\mathcal{C}(K)$ as the closed subspace of $\mathcal{B}(K)$ containing the continuous functions.
  \end{definition}
  \begin{proposition}
    Let $K\subseteq \KK^n$ be a compact set and $f,g\in\mathcal{C}(K)$. Then: $$\norm{fg}_K\leq\norm{f}_K\norm{g}_K$$
  \end{proposition}
  \begin{definition}
    Let $K\subseteq \KK^n$ be a compact set and $A\subseteq \mathcal{C}(K)$ be a subset. We say that $A$ is a \emph{subalgebra} if $A$ is a vector subspace, and it is stable under the product, that is if $\forall f,g\in A$ we have $fg\in A$.
  \end{definition}
  \begin{proposition}
    Let $K\subseteq \KK^n$ be a compact set and $A\subseteq \mathcal{C}(K)$ be a subalgebra. Then, $\overline{A}$ is also a subalgebra.
  \end{proposition}
  \begin{proof}
    In \mcref{RFA:closurevectorsubspace} we saw that $\overline{A}$ is a vector subspace. To show that is stable under the product, consider $f,g\in\overline{A}$. Then, we can write $\displaystyle f=\lim_{n\to\infty} f_n$ and $\displaystyle g=\lim_{n\to\infty} g_n$ with $(f_n), (g_n)\in A$. Finally:
    \begin{align*}
      \norm{fg-f_ng_n}_K & \leq \norm{fg-f_ng}_K+\norm{f_ng-fg}_K                  \\
                         & \leq\norm{g}_K\norm{f-f_n}_K+\norm{f_n}_K\norm{g-g_n}_K
    \end{align*}
    which has limit 0 when $n\to\infty$.
  \end{proof}
  \begin{definition}
    Let $K\subseteq \KK^n$ be a compact set and $A\subseteq \mathcal{C}(K)$ be a subalgebra. We say that $A$ is a \emph{separating set} (or \emph{separate the points} of $K$) if $\forall x,y\in K$ $\exists f\in A$ such that $f(x)\ne f(y)$.
  \end{definition}
  \begin{definition}
    Let $K\subseteq \KK^n$ be a compact set and $A\subseteq \mathcal{C}(K)$ be a subalgebra. We say that $A$ \emph{vanishes nowhere} if $\forall x\in K$ $\exists f_x\in A$ such that $f_x(x)\ne 0$\footnote{Note that it suffices for $A$ to contain the constant functions so that it vanishes nowhere.}.
  \end{definition}
  \begin{lemma}\label{RFA:lemmaalphabeta}
    Let $K\subseteq \KK^n$ be a compact set and $A\subseteq \mathcal{C}(K)$ be a separating subalgebra that vanishes nowhere. Then, $\forall x,y\in K$ and $\forall \alpha,\beta\in\KK$, $\exists f\in A$ such that $f(x)=\alpha$ and $f(y)=\beta$.
  \end{lemma}
  \begin{proof}
    By hypothesis $\exists g,h_x,h_y\in A$ such that $g(x)\ne g(y)$, $h_x(x)\ne 0$ and $h_y(y)\ne 0$. Then consider:
    $$f=\alpha\frac{h_x}{h_x(x)}\frac{g-g(y)}{g(x)-g(y)}+\beta\frac{h_y}{h_y(y)}\frac{g-g(x)}{g(y)-g(x)}$$
  \end{proof}
  \begin{definition}
    Let $K\subseteq \KK^n$ be a compact set and $A\subseteq \mathcal{C}(K)$ be a subalgebra. We say that $A$ is \emph{self-conjugate} if $\overline{f}\in A$ whenever $f\in A$.
  \end{definition}
  \begin{lemma}
    Let $K\subseteq \RR^n$ be a compact set and $A\subseteq \mathcal{C}(K)$ be a subalgebra. If $f\in A$, then $\abs{f}\in \overline{A}$.
  \end{lemma}
  \begin{proof}
    First note that since $f\in \mathcal{C}(K)$, $f$ is bounded and so $\exists a,b\in\RR$ such that $f(K)\subseteq[a,b]$. Consider $v(x)=\abs{x}$, $x\in[a,b]$. Then, by \mnameref{MA:weierstrasspolynomials} $\exists (q_n)\in\RR[x]$ such that $\displaystyle\lim_{n\to\infty}\norm{q_n-v}_{[a,b]}=0$. Now construct $p_n(x)=q_n(x)-q_n(0)$ which also satisfies $\displaystyle\lim_{n\to\infty}\norm{p_n-v}_{[a,b]}=0$ because $\displaystyle\lim_{n\to\infty} q_n(0)=v(0)=0$. Since we can write $p_n(x)=\sum_{k=1}^na_kx^k$, we have that $p_n(f)=\sum_{k=1}^na_kf^k\in A$ and so: $$\lim_{n\to\infty}\norm{p_n(f)-\abs{f}}_{K}\leq\lim_{n\to\infty}\norm{p_n-v}_{[a,b]}=0$$
  \end{proof}
  \begin{corollary}
    Let $K\subseteq \KK^n$ be a compact set and $A\subseteq \mathcal{C}(K)$ be a subalgebra. If $f,g\in A$, then $\sup\{f,g\}, \inf\{f,g\}\in \overline{A}$.
  \end{corollary}
  \begin{sproof}
    $$\sup\{f,g\}=\frac{f+g+\abs{f-g}}{2}\;\;\inf\{f,g\}=\frac{f+g-\abs{f-g}}{2}$$
  \end{sproof}
  \begin{lemma}\label{RFA:lemmaStone}
    Let $K\subseteq \KK^n$ be a compact set, $A\subseteq \mathcal{C}(K)$ be a separating subalgebra that vanishes nowhere, $x\in K$ and $f\in\mathcal{C}(K)$. Then, $\forall \varepsilon>0$ $\exists g_x\in\overline{A}$ such that $g_x(x)=f(x)$ and $g_x<f+\varepsilon$ in $K$.
  \end{lemma}
  \begin{proof}
    By \mcref{RFA:lemmaalphabeta}, $\forall y\in K$ $\exists h_y\in\mathcal{C}(A)$ such that $h_y(y)=f(y)$ and $h_y(x)=f(x)$. By continuity there is a neighbourhood $N_y$ of $y$ such that $h_y<f+\varepsilon$. Now note that $K\subset\bigcup_{y\in K}N_y$ and the compactness implies that $K\subset\bigcup_{i=1}^mN_{y_i}$ for certain $y_i\in K$, $i=1,\ldots,m$. Finally, take $g_x:=\inf\{h_{y_i}:i=1,\ldots,m\}\in\overline{A}$.
  \end{proof}
  \begin{theorem}[Stone-Weierstra\ss\ theorem]
    Let $K\subseteq \KK^n$ be a compact set and $A\subseteq \mathcal{C}(K)$ be a separating self-conjugate subalgebra that vanishes nowhere. Then, $A$ is dense in $\mathcal{C}(K)$.
  \end{theorem}
  \begin{proof}
    We distinguish between $\KK=\RR$ and $\KK=\CC$.
    \begin{itemize}[leftmargin=1.3cm]
      \item[$\KK=\RR$:] Let $f\in\mathcal{C}(K)$. We should find $g\in\mathcal{A}$ such that $\forall \varepsilon>0$, $\norm{f-g}_K<\varepsilon$. For each $x\in K$, let $g_x$ be the function of \mcref{RFA:lemmaStone} that satisfies $g_x<f+\varepsilon$. By continuity there is a neighbourhood $N_x$ of $x$ such that $g_x>f-\varepsilon$. The compactness of $K$ implies $K\subset\bigcup_{i=1}^mN_{x_i}$ for certain $x_i\in K$, $i=1,\ldots,m$. Finally, take $g:=\sup\{g_{x_i}:i=1,\ldots,m\}\in\overline{A}$ that satisfies $\norm{f-g}_K<\varepsilon$.
      \item[$\KK=\CC$:] Note that $A_0:=\{\Re f:f\in A\}=\{\Im f:f\in A\}$ because $A$ is self-conjugate. Moreover, $A_0$ is a separating subalgebra that vanishes nowhere. By the case $\KK=\RR$ we know that exists sequences $(u_n),(v_n)\in A_0$ such that $\displaystyle\lim_{n\to\infty}\norm{\Re f-u_n}_K=\lim_{n\to\infty}\norm{\Im f-v_n}_K=0$. And it suffices to consider $g_n:=u_n+\ii v_n$ that converges uniformly to $f$.
    \end{itemize}
  \end{proof}
  \begin{definition}
    Let $(X,d_X)$, $(Y,d_Y)$ be two metric spaces and $F\subset\mathcal{C}(X,Y)$ be a subset.
    We say that $F$ is \emph{pointwise bounded} if $\forall x\in X$ $\exists M_x>0$ such that $\abs{f(x)}\leq M_x$ $\forall f\in F$.
    We say that $F$ is \emph{locally bounded} if $\forall x\in X$ there exist a neighborhood $N_x$ of $x$ and a constant $M_x>0$ such that $\abs{f(N_x)}\leq M_x$ $\forall f\in F$.
    We say that $F$ is \emph{uniformly bounded} if $\exists M>0$ such that $\abs{f(x)}\leq M$ $\forall x\in X$ and $\forall f\in F$.
  \end{definition}
  \begin{definition}
    Let $(X,d_X)$, $(Y,d_Y)$ be two metric spaces and $F\subset\mathcal{C}(X,Y)$ be a subset. We say that $F$ \emph{equicontinuous at a point} $x_0\in X$ if $\forall \varepsilon>0$ $\exists \delta>0$ such that $\forall x\in X$ with $d_X(x,x_0)<\delta$ we have: $$d_Y(f(x),f(x_0))<\varepsilon\quad\forall f\in F$$
    We say that $F$ is \emph{pointwise equicontinuous} if it is equicontinuous at each point of $X$. Finally, we say that $F$ is \emph{uniformly equicontinuous} if $\forall \varepsilon>0$ $\exists \delta>0$ such that $\forall x,y\in X$ with $d(x,y)<\delta$ we have: $$d_Y(f(x),f(y))<\varepsilon\quad\forall f\in F$$
  \end{definition}
  \begin{definition}
    Let $(X,d)$ be a metric space and $F\subseteq X$. We say that $F$ is \emph{relatively compact} on $X$ if $\overline{F}$ is compact on $X$.
  \end{definition}
  % \begin{lemma}
  %   Let $(X,d)$ be a metric space and $F\subseteq X$. $F$ is relatively compact on $X$ if and only if any bounded sequence $(x_n)\in F$ has a partial convergent subsequence.
  % \end{lemma}
  \begin{theorem}[Arzelà-Ascoli theorem]\label{RFA:arzela}
    Let $(X,d)$ be a metric space, $K\subset X$ be a compact set and $F\subset \mathcal{C}(K)$ be a subset. Then, $F$ is relatively compact in $\mathcal{C}(K)$ if and only if $F$ is pointwise equicontinuous and pointwise bounded.
  \end{theorem}
  % \begin{proof}

  % \end{proof}
  \begin{definition}
    Let $E\subseteq\RR^n$ be a measurable set and $U\subseteq \RR^n$ be an open set. We define:
    \begin{align*}
      \mathcal{S}(E)   & =\{f:E\rightarrow\RR:f\text{ is simple}\}         \\
      \mathcal{C}_0(U) & =\{f\in\mathcal{C}(U):\supp f\text{ is compact}\}
    \end{align*}
  \end{definition}
  \begin{theorem}
    Let $E\subseteq\RR^n$ be a measurable space, $({f}_k)\in L^p(E)$ be a sequence of functions and $1\leq p<\infty$. Then:
    \begin{enumerate}
      \item\label{RFA:thmLpBanachA} If $\displaystyle\lim_{k\to\infty}f_k(x)\almoste{=}{f}(x)$ with $\abs{{f}_k}\almoste\leq g\in L^p(E)$, then ${f}\in L^p(E)$ and $\displaystyle\lim_{k\to\infty}\norm{{f}_k-{f}}_p=0$, and we will write ${f}_k\overset{L^p}{\rightarrow}{f}$.
      \item\label{RFA:thmLpBanachB} If $\sum_{k=1}^\infty\norm{{f}_k}_p<\infty$, then $\sum_{k=1}^\infty\abs{f_k(x)}\almoste{<}\infty$ and $\exists f\in L^p(E)$ such that $\sum_{k=1}^\infty f_k(x)\almoste{=}f(x)$ and $\sum_{k=1}^N{f}_k\overset{L^p}{\rightarrow}{f}$. In particular, $(L^p,\norm{\cdot}_p)$ is a Banach space.
      \item\label{RFA:thmLpBanachC} If ${f}_k\overset{L^p}{\rightarrow}{f}$, then $\exists(f_{k_j})$ such that $\displaystyle\lim_{j\to\infty}f_{k_j}(x)\almoste{=}{f}(x)$.
    \end{enumerate}
  \end{theorem}
  \begin{sproof}
    \begin{enumerate}
      \item A direct application of the \mnameref{RFA:dominated} shows that $f\in L^p(E)$. Moreover, $\abs{f_k-f}^p\leq{2g}^p\in L^1(E)$. So again the \mnameref{RFA:dominated} allows us to conclude ${f}_k\overset{L^p}{\rightarrow}{f}$.
      \item Let $g_N(x):=\sum_{k=1}^N\abs{f_k(x)}\nearrow g(x)$ (possibly infinity). Then:
            \begin{align*}
              \norm{g_N}_p & ={\left(\int_E{\abs{g_N}}^p\right)}^{1/p}\leq \sum_{k=1}^N\norm{{f}_k}_p \\
                           & \leq\sum_{k=1}^\infty\norm{{f}_k}_p<\infty
            \end{align*}
            where we have used the \mref{RFA:triangularineq}. Thus, ${\norm{g_N}_p}^p<\infty$ and by the \mnameref{RFA:monotone} we have ${\norm{g}_p}^p<\infty$ which implies:
            $$\sum_{k=1}^\infty\abs{f_k(x)}\almoste{<}\infty$$
            Now use \mcref{RFA:thmLpBanachA} to show that $F_N\overset{L^p}{\rightarrow}{f}$, where $F_N=\sum_{k=1}^{N}f_k$.
      \item The Cauchy condition for $(f_k)$ implies that $\forall m\in\NN$ $\exists k_m$ such that if $p,q>k_m$ then $\norm{f_p-f_q}_p<\frac{1}{2^m}$. Now consider the partial sequence defined by the series of partial sums:
            $$f_{k_1}+(f_{k_2}-f_{k_1})+\cdots+(f_{k_{m+1}}-f_{k_{m}})+\cdots$$
            Now use \mcref{RFA:thmLpBanachB}.
    \end{enumerate}
  \end{sproof}
  \begin{theorem}\label{RFA:continuousdenseLp}
    Let $1\leq p<\infty$, $E\subseteq\RR^n$ be a measurable set and $U\subseteq \RR^n$ be an open set. Then:
    \begin{enumerate}
      \item $\mathcal{S}(E)$ is dense in $L^p(E)$.
      \item $\mathcal{C}_0(U)$ is dense in $L^p(U)$.
    \end{enumerate}
  \end{theorem}
  \begin{sproof}
    \begin{enumerate}
      \item Consequence of \mcref{RFA:thmLpBanachA} and \mcref{RFA:increasing-sm}.
      \item
    \end{enumerate}
  \end{sproof}
  \begin{theorem}
    Let $E\subseteq\RR^n$ be a measurable space and $1\leq p<\infty$. Then, $L^p(E)$ is separable.
  \end{theorem}
  \subsubsection{Operators}
  \begin{definition}
    Let $E$, $F$ be normed vector spaces. An \emph{operator} $T$ is a linear function $T:E\rightarrow F$.
  \end{definition}
  \begin{definition}
    Let $E$, $F$ be normed vector spaces and $T:E\rightarrow F$ be an operator. We define the \emph{norm} of $T$ as:
    \begin{equation}\label{RFA:normoperator}
      \norm{T}:=\sup\{\norm{Tx}_F:\norm{x}_E\leq 1\}
    \end{equation}
  \end{definition}
  \begin{lemma}\label{RFA:normT}
    Let $E$, $F$ be normed vector spaces and $T:E\rightarrow F$ be an operator. Then:
    \begin{align*}
      \norm{T} & =\sup\{\norm{Tx}_F:\norm{x}_E< 1\}                        \\
               & =\sup\left\{\norm{Tx}_F:\norm{x}_E= 1\right\}             \\
               & =\sup\left\{\frac{\norm{Tx}_F}{\norm{x}_E}:x\ne 0\right\}
    \end{align*}
  \end{lemma}
  \begin{sproof}
    Note that due to the linearity of $T$ we have $$\norm{Tx}_F=\lim_{\varepsilon \to 0}\norm{T((1-\varepsilon)x)}_F\leq \sup_{\norm{x}_E< 1}\norm{Tx}_F$$
    And this proves the first equality as the reverse inequality is clear. For the second one, use the latter one and the fact that:
    $$\norm{Tx}_F=\norm{x}_E\norm{T\left(\frac{x}{\norm{x}_E}\right)}_F\leq \sup_{\norm{x}_E= 1}\norm{Tx}_F$$
    The last one follows from applying the second equality to $\frac{x}{\norm{x}_E}$.
  \end{sproof}
  \begin{theorem}
    Let $E$, $F$ be normed vector spaces and $T:E\rightarrow F$ be an operator. The following are equivalent:
    \begin{enumerate}[ref = \arabic{enumi}]
      \item\label{RFA:TcontinuousA} $T$ is continuous at 0.
      \item\label{RFA:TcontinuousB} $T$ is continuous.
      \item\label{RFA:TcontinuousC} $T(B_E)$ is bounded on $F$, where $B_E:=\{x\in E:\norm{x}_E\leq 1\}$.
      \item\label{RFA:TcontinuousD} $\norm{T}<\infty$.
      \item\label{RFA:TcontinuousE} $\exists C\geq 0$ such that $\forall x\in E$ we have: $$\norm{Tx}_F\leq C\norm{x}_E$$
      If, moreover, $T$ is continuous, $\norm{T}$ is the least of such constants $C$.
    \end{enumerate}
  \end{theorem}
  \begin{sproof}
    \begin{enumerate}[leftmargin=1.5cm]
      \item[\mref{RFA:TcontinuousA}$\implies$\mref{RFA:TcontinuousB}:] Let $x\in E$ and $(x_n)\in E$ such that $\displaystyle \lim_{n\to\infty}x_n=x$. Then $\displaystyle \lim_{n\to\infty}(x_n - x)=0$ and the continuity and linearity imply $\displaystyle \lim  _{n\to\infty}(Tx_n-Tx)=0$.
      \item[\mref{RFA:TcontinuousB}$\implies$\mref{RFA:TcontinuousC}:] The continuity at the origin of $T$ implies that given $\varepsilon =1$, $\exists \delta>0$ such that: $$T(B_E(0,\delta))\subseteq B_F(0,1)$$
        The linearity of $T$ implies that $T(B_E(0,1))\subseteq B_F(0,1/\delta)$.
      \item[\mref{RFA:TcontinuousC}$\implies$\mref{RFA:TcontinuousD}:] Consequence of \mcref{RFA:normT}.
      \item[\mref{RFA:TcontinuousD}$\implies$\mref{RFA:TcontinuousE}:] By the definition of supremum we have: $$\norm{T\left(\frac{x}{\norm{x}_E}\right)}_F\leq \norm{T}$$ And so $\norm{Tx}_F\leq \norm{T}\norm{x}_E$.
      \item[\mref{RFA:TcontinuousE}$\implies$\mref{RFA:TcontinuousA}:] Evident.
    \end{enumerate}
  \end{sproof}
  \begin{definition}
    Let $T$ be an operator. We say that $T$ is \emph{sublinear} if: $$\norm{T(f+g)}\leq \norm{Tf}+\norm{Tg}\qquad\forall f,g\in L^p$$
  \end{definition}
  \begin{theorem}[Marcinkiewicz interpolation theorem]
    Let $T$ be a sublinear operator. Then:
    \begin{enumerate}
      \item $\displaystyle\abs{\{x\in\RR^n:\abs{Tf(x)}>t\}}\leq \frac{A}{t}\norm{f}_1$
      \item $\norm{Tf}_\infty\leq A_\infty\norm{f}_\infty$
    \end{enumerate}
  \end{theorem}
  \begin{corollary}
    Let $T$ be a sublinear operator. Then, $\norm{Tf}_p\leq A_p\norm{f}_p$ $\forall 1<p<\infty$ and $\forall f\in L^p$.
  \end{corollary}
  \subsubsection{Finite dimensional normed vector spaces}
  \begin{definition}
    A \emph{topological homeomorphism} is a linear homeomorphism between any two normed vector spaces. If there exists such a homeomorphism we will say that the two normed vector spaces are \emph{isomorphic}.
  \end{definition}
  \begin{definition}
    Let $E$ be a normed vector space and $\norm{\cdot}_1$, $\norm{\cdot}_2$ be two norms on $E$. We say that $\norm{\cdot}_1$ \emph{is finer than} $\norm{\cdot}_2$ if $\exists\alpha>0$ such that: $$\norm{x}_1\leq\alpha\norm{x}_2\qquad \forall x\in E$$
  \end{definition}
  \begin{definition}
    Let $E$ be a normed vector space and $\norm{\cdot}_1$, $\norm{\cdot}_2$ be two norms on $E$. We say that the norms $\norm{\cdot}_1$, $\norm{\cdot}_2$ are \emph{equivalent} if $\exists\alpha,\beta>0$ such that: $$\alpha\norm{x}_2\leq \norm{x}_1\leq\beta\norm{x}_2\qquad \forall x\in E$$
  \end{definition}
  \begin{theorem}
    Let $E$ be a normed vector space over $\KK$ of dimension $n\in\NN$. Then, any algebraic isomorphism $T:\KK^n\rightarrow E$ is a topological isomorphism.
  \end{theorem}
  \begin{proof}
    We need to show that the Euclidean norm $\norm{\cdot}$ and the norm $\norm{x}':=\norm{Tx}_E$ are equivalent. Let $(u_1,\ldots,u_n)$ be a basis of $\KK^n$ and suppose $x=\sum_{i=1}^n x_ju_j$. Then:
    $$\norm{x}'\leq\sum_{i=1}^n \abs{x_j}\norm{u_j}\leq\norm{x}\sum_{i=1}^n \norm{u_j}=:C\norm{x}$$
    To show the other inequality, consider the function $f(x)=\norm{x}'$ defined on $B=\{x\in \KK^n:\norm{x}=1\}$. Then, $f$ is continuous and \mnameref{RVF:weierstrass} implies the existence of and absolute minimum $c\in B$ such that $f\left(\frac{x}{\norm{x}}\right)\geq c$, i.e. $\norm{x}'\geq c\norm{x}$.
  \end{proof}
  \begin{corollary}
    In a finite-dimensional normed vector space any two norms are always equivalent.
  \end{corollary}
  \begin{corollary}
    In a normed vector space any finite-dimensional subspace is complete and therefore closed.
  \end{corollary}
  \begin{sproof}
    The topological isomorphisms preverve the completeness.
  \end{sproof}
  \begin{corollary}
    Let $E$, $F$ be normed vector spaces and $T:E\rightarrow F$ be an operator. If $T$ is linear and $\dim E<\infty$, then $T$ is continuous.
  \end{corollary}
  \begin{sproof}
    Since $T$ is linear, it is the composition of continuous functions $T:E\rightarrow \KK^n\rightarrow\KK^m\rightarrow F$.
  \end{sproof}
  \begin{lemma}[Almost orthogonality lemma]\label{RFA:almostorthogonality}
    Let $E$ be a normed vector space and $F\subseteq E$ be a proper subspace of $E$. Then, $\forall \varepsilon>0$ $\exists u\in E$ such that $\norm{u}=1$ and $d(u,F)\geq 1-\varepsilon$.
  \end{lemma}
  \begin{proof}
    We may suppose $\varepsilon<1$. Let $v\in E$ such that $d(v,F)=\delta>0$. Then, consider $u=\frac{v-x_0}{\norm{v-x_0}}$, where $x_0\in F$ satisfies $\delta\leq \norm{v-x_0}\leq \frac{\delta}{1-\varepsilon}$. Finally, $\forall x\in F$:
    $$\norm{u-x}=\frac{\norm{v-(x_0+\norm{v-x_0}x)}}{\norm{v-x_0}}\geq \frac{\delta}{\norm{v-x_0}}\geq 1-\varepsilon$$
  \end{proof}
  \begin{theorem}[Riesz's theorem]\label{RFA:riesz_ball}
    Let $E$ be a normed vector space. If the unit closed sphere $\{x\in E:\norm{x}=1\}$ is compact, then $\dim E<\infty$.
  \end{theorem}
  \begin{proof}
    Suppose $\dim E=\infty$. Then, there exists a strictly increasing sequence $(E_n)$ of closed finite-dimensional subspaces of $E$. Using the \mnameref{RFA:almostorthogonality} to the spaces $E_n\subset E_{n+1}$ with $\varepsilon =\frac{1}{2}$, we can construct a sequence $(x_n)$ such that $\norm{x_n}=1$, $x_n\in E_{n+1}\setminus E_n$ and $d(x_n, E_n)>\frac{1}{2}$. That is, $\norm{x_i-x_j}>\frac{1}{2}$ $\forall i, j\in\NN$, $i\ne j$. Therefore, $S$ is not compact because there is no convergent subsequence of $(x_n)$.
  \end{proof}
  \subsubsection{Space of bounded operators}
  \begin{definition}
    Let $E$, $F$ be normed vector spaces. We define the following set:
    \begin{align*}
      \mathcal{L}(E,F) & := \{T:E\rightarrow F: T\text{ is a bounded operator}\}            \\
                       & \;=                   \{T:E\rightarrow F: T\text{ is continuous}\}
    \end{align*}
  \end{definition}
  \begin{theorem}
    Let $E$, $F$ be normed vector spaces. Then, $\mathcal{L}(E,F)$ is a vector normed space with the norm of \mcref{RFA:normoperator} and the usual operations. Moreover, if $F$ is Banach, so is $\mathcal{L}(E,F)$.
  \end{theorem}
  \begin{sproof}
    An easy check shows that $\mathcal{L}(E,F)$ is a vector space and that the associated norm is indeed a norm. It's missing to show that $\mathcal{L}(E,F)$ is Banach whenever $F$ is Banach. Let $\sum_{n=1}^\infty\norm{T_n}<\infty$. Then, $\forall x\in E$, $\sum_{n=1}^\infty\norm{T_nx}_F\leq \sum_{n=1}^\infty\norm{T_n}\norm{x}_E<\infty$. Since $F$ is Banach, $\exists y\in F$ with $y=\sum_{n=1}^\infty T_nx$. By the linearity and continuity of $T_n$, the operator
    $$\function{T}{E}{F}{x}{\sum_{n=1}^\infty T_nx}$$
    is linear and continuous. So $T=\sum_{n=1}^\infty T_n$ and finally $\forall \varepsilon>0$ if $x\in E$ $\exists N\in\NN$ such that:
    $$\norm{T-\sum_{n=1}^N T_n}\leq \sum_{n=N+1}^\infty \norm{T_n x}_F\leq \norm{x}_E\sum_{n=N+1}^\infty \norm{T_n}<\varepsilon$$
    because is the tail of a convergent series.
  \end{sproof}
  \begin{proposition}
    Let $E$, $F$, $G$ be normed vector spaces and $T:E\rightarrow F$, $S:F\rightarrow G$ be operators. Then: $$\norm{S\circ T}\leq\norm{S}\norm{T}$$
  \end{proposition}
  \begin{proof}
    $$\norm{(S\circ T)x}\leq \norm{S}\norm{Tx}\leq \norm{S}\norm{T}\norm{x}$$
  \end{proof}
  \begin{definition}
    We denote $\mathcal{L}(E):=\mathcal{L}(E,E)$ which, together with the composition, has a structure of \emph{normed algebra}. That is, $\forall T,S\in\mathcal{L}(E)$, we have:
    \begin{enumerate}
      \item $T\circ S\in\mathcal{L}(E)$
      \item $\norm{S\circ T}\leq\norm{S}\norm{T}$
    \end{enumerate}
  \end{definition}
  \begin{definition}
    Let $E$ be a normed vector space. The Banach space $E^*:=\mathcal{L}(E,\KK)$ is called \emph{dual space} of $E$. The \emph{bidual space} of $E$ is $E^{**}:=(E^*)^*$.
  \end{definition}
  \begin{definition}
    Let $E$ be a normed vector space. We say that $E$ is \emph{reflexive} if $E=E^{**}$.
  \end{definition}
  \subsubsection{Compact operators}
  \begin{definition}
    Let $E$, $F$ be Banach spaces and $T\in\mathcal{L}(E,F)$ be an operator. We say that $T$ is a \emph{compact operator} if $T(B_E)$ is relatively compact on $F$ where: $$B_E:=\{x\in E:\norm{x}_E\leq 1\}$$
  \end{definition}
  \begin{definition}
    Let $X,Y\subseteq \RR^n$ be compact metric spaces and $K\in\mathcal{C}(X\times Y)$. We define the \emph{Fredholm operator with kernel $K$} as the operator $T:\mathcal{C}(Y)\rightarrow\mathcal{C}(X)$ defined by: $$Tf(x)=\int_YK(x,y)f(y)\dd{y}$$
  \end{definition}
  \begin{definition}
    Let $K\in\mathcal{C}(\Delta)$, where $\Delta:=\{(x,y)\in\RR^2:a\leq y\leq x\leq b\}$. We define the \emph{Volterra operator with kernel $K$} as the operator $T:\mathcal{C}([a,b])\rightarrow\mathcal{C}([a,b])$ defined by: $$Tf(x)=\int_a^xK(x,y)f(y)\dd{y}$$
  \end{definition}
  \begin{definition}
    Let $X,Y\subseteq \RR^n$ be measurable spaces and $K\in L^2(X\times Y)$. We define the \emph{Hilbert-Schmidt operator with kernel $K$} as the operator $T:L^2(Y)\rightarrow L^2(X)$ defined by: $$Tf(x)\almoste{=}\int_YK(x,y)f(y)\dd{y}$$
  \end{definition}
  \begin{proposition}\label{RFA:fredholm}
    Let $X$, $Y$ be compact metric spaces and $K\in\mathcal{C}(X\times Y)$. The Fredholm operator $T$ with kernel $K$ is compact and satisfies $\norm{T}\leq\norm{K}_{X\times Y}\abs{Y}$
  \end{proposition}
  \begin{sproof}
    It is a direct application of \mnameref{RFA:arzela}. The proof of the equicontinuity follows from the inequality
    $$\abs{Tf(a)-Tf(b)}\leq \norm{f}\sup_{y\in Y}\{\abs{K(a,y)-K(b,y)}\}\abs{Y}$$
    and the fact that $\norm{f}\leq 1$ and that $K$ is uniformly continuous. The pointwise boundedness follows from:
    $$\abs{Tf(a)}\leq\sup_{(x,y)\in X\times Y}\{\abs{K(x,y)}\}\abs{Y}$$
    because $\norm{f}\leq 1$.
    And from here the inequality of the norm is clear.
  \end{sproof}
  \begin{proposition}
    Let $K\in\mathcal{C}(\Delta)$. The Volterra operator $T$ with kernel $K$ is compact and $\norm{T}\leq\norm{K}_{\Delta}(b-a)$.
  \end{proposition}
  \begin{sproof}
    Use \mnameref{RFA:arzela} and a similar scheme of the proof of \mcref{RFA:fredholm}.
  \end{sproof}
  \begin{proposition}
    Let $X,Y\subseteq \RR^n$ be measurable spaces and $K\in L^2(X\times Y)$. The Hilbert-Schmidt operator $T$ with kernel $K$ satisfies $\norm{T}\leq\norm{K}_{L^2(X\times Y)}$.
  \end{proposition}
  \begin{proof}
    By \mnameref{RFA:holder} we have:
    \begin{align*}
      \norm{Tf}^2 & =\int_X{\left(\int_YK(x,y)f(y)\dd{y}\right)}^2                                    \\
                  & \leq \int_X\left(\int_YK(x,y)^2\dd{y}\right)\left(\int_Y\abs{f(y)}^2\dd{y}\right) \\
                  & = {\left(\norm{K}_{L^2(X\times Y)}\norm{f}_{L^2(Y)}\right)}^2
    \end{align*}
  \end{proof}
  \begin{definition}
    Let $E$, $F$ be Banach spaces and $T\in\mathcal{L}(E,F)$ be an operator. We say that $T$ is a \emph{finite-rank operator} if $\dim T(E)<\infty$.
  \end{definition}
  \begin{lemma}\label{RFA:lemmarank}
    Let $E$, $F$ be Banach spaces and $T\in\mathcal{L}(E,F)$ be a finite-rank bounded operator. Then, $T$ is compact.
  \end{lemma}
  \begin{sproof}
    Since $\dim T(E)<\infty$, the bounded spaces on $T(E)$ are the relatively compact sets and since $T(B_E)$ is bounded, it is relatively compact.
  \end{sproof}
  \begin{proposition}
    Let $E$, $F$ be Banach spaces and $(T_n)\in\mathcal{L}(E,F)$ be a sequence of compact operators with limit $T\in\mathcal{L}(E,F)$. Then, $T$ is compact. In particular, the limit of any sequence of finite-rank bounded operators is compact.
  \end{proposition}
  \begin{sproof}
    Let $(x_k)\in B_E$ be a sequence. Since $T_1$ is compact, there exists a subsequence $(x_{k,1})$ of $(x_k)$ such that $T_1x_{k,1}$ converges. Similarly,  there exists a subsequence $(x_{k,2})$ of $(T_1x_{k,1})$ such that $T_2x_{k,2}$ converges. In general for each $n\in\NN$, there exists a subsequence $(x_{k,n})$ of $(T_{n-1}x_{k,n-1})$ such that $T_nx_{k,n}$ converges. Now consider the sequence $(x_{k,k})$ and show that $(Tx_{k,k})$ is Cauchy.

    The particularity follows from \mcref{RFA:lemmarank}.
  \end{sproof}
  \subsubsection{Neumann series}
  \begin{remark}
    In Theory of Differential Equations, many times we need to find the solution of $Tu-u=v$, with $T\in\mathcal{L}(E)$ and $E=\mathcal{C}([a,b])$. Here, we will describe a general approach. Let $E$ be a normed vector space, $T\in\mathcal{L}(E)$ and $v\in E$. We would like to find the solution of the equation: $$(T-\lambda\id)u=v$$ for some $\lambda\in\KK^*$.
  \end{remark}
  \begin{definition}
    Let $E$ be a Banach space, $T\in\mathcal{L}(E)$ and $\lambda\in\KK^*$. We define the \emph{Neumann series} as the series:
    $$-\frac{1}{\lambda}\sum_{n= 0}^\infty\frac{1}{\lambda^n}T^n$$
  \end{definition}
  \begin{theorem}
    Let $E$ be a Banach space, $T\in\mathcal{L}(E)$ and $\lambda\in\KK^*$. If the Neumann series converges absolutely, then ${(T-\lambda\id)}^{-1}\in\mathcal{L}(E)$ and: $${(T-\lambda\id)}^{-1}=-\frac{1}{\lambda}\sum_{n= 0}^\infty\frac{1}{\lambda^n}T^n$$
  \end{theorem}
  \begin{sproof}
    Remember that $\mathcal{L}(E)$ is Banach and note that:
    $$\lim_{N\to\infty}-\frac{1}{\lambda}\sum_{n= 0}^N\frac{1}{\lambda^n}T^n(T-\lambda\id)=\id-\lim_{N\to\infty}\frac{T^{N+1}}{\lambda^{N+1}}$$
  \end{sproof}
  \begin{theorem}
    Let $T:\mathcal{C}([a,b])\rightarrow\mathcal{C}([a,b])$ be the Volterra operator of kernel $K(x,y)$. Then, $\forall \lambda\ne 0$ the series
    $${(T-\lambda\id)}^{-1}=-\frac{1}{\lambda}\sum_{n= 0}^\infty\frac{1}{\lambda^n}T^n$$
    is absolutely convergent on $\mathcal{L}(\mathcal{C}([a,b]))$.
  \end{theorem}
  \begin{sproof}
    Use induction to prove: $$\norm{T^nf(x)}\leq \frac{M^n{(x-a)}^n}{n!}\norm{f}$$
    where $\abs{K(x,y)}\leq M$.
  \end{sproof}
  \subsubsection{Duality}
  \begin{definition}
    Let $E$ be a real vector space. A \emph{convex functional} $p:E\rightarrow\RR$ is a function that satisfies:
    \begin{enumerate}
      \item $p(x+y)\leq p(x)+p(y)\quad\forall x,y\in E$
      \item $p(\alpha x)=\alpha p(x)\quad\forall x\in E,\ \alpha\geq 0$
    \end{enumerate}
  \end{definition}
  \begin{theorem}[Hahn-Banach theorem]
    Let $E$ be a real vector space, $F\subseteq E$ be a subspace, $p:E\rightarrow\RR$ be a convex functional and $u\in F^*$. If $u(z)\leq p(z)$ $\forall z\in F$, then $\exists v\in E^*$ such that $v(z)=u(z)$ $\forall z\in F$ and $v(x)\leq p(x)$ $\forall x\in E$ ($v$ is called an \emph{extension} of $u$).
  \end{theorem}
  \begin{definition}[Seminorm]
    Let $E$ be a vector space over $\KK$. A \emph{seminorm} $p:E\rightarrow[0,\infty)$ is a functional that satisfies:
    \begin{enumerate}
      \item $p(x+y)\leq p(x)+p(y)\quad\forall x,y\in E$
      \item $p(\lambda x)=\abs{\lambda} p(x)\quad\forall x\in E,\ \lambda\in\KK$
    \end{enumerate}
  \end{definition}
  \begin{lemma}
    Let $E$ be a vector space over $\KK$. A norm defined on $E$ is a seminorm.
  \end{lemma}
  \begin{theorem}[Hahn-Banach theorem]
    Let $E$ be a vector space over $\KK=\RR,\CC$, $F\subseteq E$ be a subspace, $p:E\rightarrow\RR$ be a seminorm and $u\in F^*$. If $\abs{u(z)}\leq p(z)$ $\forall z\in F$, then $\exists v\in E^*$ such that $v(z)=u(z)$ $\forall z\in F$ and $\abs{v(x)}\leq p(x)$ $\forall x\in E$. That is, $v$ extends $u$.
  \end{theorem}
  \begin{theorem}[Hahn-Banach theorem]
    Let $E\ne\{0\}$ be a normed vector space.
    \begin{enumerate}
      \item If $F\subseteq E$ is a subspace and $u\in F^*$, then $\exists v\in E^*$ such that extends $u$ and $\norm{v}=\norm{u}$.
      \item For all $a\in E$, $\exists v\in E^*$ such that $v(a)=\norm{a}$ and $\norm{v}=1$.
      \item If $F\subseteq E$ is a closed subspace and $a\in E\setminus F$, then $\exists v\in E^*$ such that $v(a)=1$ and $v(F)=\{0\}$.
    \end{enumerate}
  \end{theorem}
  \begin{definition}
    Let $E$ be a normed vector space, $x\in E$ and $v\in E^*$. We denote $\langle x,v\rangle := v(x)$ and $\hat{x}:=\langle x,\cdot\rangle$. Thus, $\hat{x}(v)=\langle x,v\rangle$ and $\hat{x}$ is a bilinear form on $E^*$ that satisfies: $$\abs{\hat{x}(v)}\leq\norm{v}_{E^*}\norm{x}_E$$ Thus, $\hat{x}\in E^{**}$ with $\norm{\hat{x}}_{E^{**}}\leq \norm{x}_E$.
  \end{definition}
  \begin{proposition}
    Let $E$ be a normed vector space and $x\in E$ with $x\ne 0$. Then, $\norm{\hat{x}}_{E^{**}}= \norm{x}_E$.
  \end{proposition}
  \begin{proposition}
    Let $E$ be a normed vector space. The function $$\function{J}{E}{E^{**}}{x}{\hat{x}}$$ is linear, continuous, injective and isometric. Thus, $J(E)=E\subseteq E^{**}$. Moreover, if $J$ is surjective, we have $E=E^{**}$. In this case, $E$ is called \emph{reflexive}.
  \end{proposition}
  \begin{definition}
    Let $E$, $F$ be normed vector spaces and $T\in\mathcal{L}(E,F)$. We define the \emph{dual map}, $T^*\in\mathcal{L}(F^*,E^*)$, of $T$ as $T^*(v)=v\circ T$.
  \end{definition}
  \begin{proposition}
    Let $E$, $F$ be normed vector spaces and $T\in\mathcal{L}(E,F)$. Then, $\forall x\in E$ and $v\in F^*$ we have: $$\langle T(x),v\rangle=\langle x,T^*(v)\rangle$$
  \end{proposition}
  \begin{proposition}
    Let $E$, $F$ be normed vector spaces. The function $$\function{}{\mathcal{L}(E,F)}{\mathcal{L}(F^*,E^*)}{T}{T^*}$$ is linear, bijective and isometric. That is, $\norm{T}=\norm{T^*}$.
  \end{proposition}
  \begin{theorem}
    Let $\Omega\subseteq \RR^n$ be a measurable set, $1\leq p\leq \infty$ and $q$ be the Hölder conjugate of $p$. Then:
    \begin{itemize}
      \item If $1<p<\infty$, then ${(L^p(\Omega))}^*=L^q(\Omega)$.
      \item If $p=1$, then ${(L^1(\Omega))}^*=L^\infty(\Omega)$.
      \item If $p=\infty$, then ${(L^\infty(\Omega))}^*\supsetneq L^1(\Omega)$.
    \end{itemize}
    In particular, for $1<p<\infty$, $L^p(\Omega)$ is reflexive, while $L^1(\Omega)$ and $L^\infty(\Omega)$ are not.
  \end{theorem}
  \subsubsection{Spectrum and eigenvalues}
  \begin{proposition}
    Let $E$ be a Banach space and $T\in\mathcal{L}(E)$. Then, $\forall \alpha\in\KK$, $\im(T-\alpha\id)$ and $\ker(T-\alpha\id)$ are invariant over $T$. Moreover, if $\alpha\ne 0$, the function $$\function{S}{\ker(T-\alpha\id)}{\ker(T-\alpha\id)}{x}{\alpha x}$$ is an isomorphism.
  \end{proposition}
  \begin{proof}
    Let $y\in \im(T-\alpha \id)$. Then, $y=Tx-\alpha x$ for some $x\in E$ and so: $$Ty=T(Tx-\alpha x)=(T-\alpha\id)(Tx)\in\im(T-\alpha\id)$$
    Similarly if $x\in\ker(T-\alpha\id)$, then: $$(T-\alpha\id)(Tx)=(T-\alpha\id)(\alpha x)=\alpha(Tx-\alpha x)=0$$
    The function $S=\alpha \id$ is clearly an isomorphism because $\alpha\ne 0$.
  \end{proof}
  \begin{definition}
    Let $E$ be a Banach space, $T\in\mathcal{L}(E)$ and $\alpha\in \KK$. If $\ker(T-\alpha\id)\ne\{0\}$, we say that $\ker(T-\alpha\id)$ is a \emph{proper subspace of $T$} and that its non-zero elements are the \emph{eigenvectors} of \emph{eigenvalue} $\alpha$ of $T$.
  \end{definition}
  \begin{definition}
    Let $E$ be a Banach space and $T\in\mathcal{L}(E)$. We define the \emph{spectrum} of $T$ as: $$\sigma(T):=\{\alpha\in\KK:T-\alpha\id\text{ is not bijective}\}$$
    The elements of $\sigma(T)$ are called \emph{spectral values} of $T$.
  \end{definition}
  \begin{proposition}
    Let $E$ be a finite-dimensional Banach space and $T\in\mathcal{L}(E)$. Then: $$\sigma(T)=\{\alpha\in\KK:\alpha\text{ is eigenvalue of }T\}=:\Lambda(T)$$
  \end{proposition}
  \begin{proof}
    The inclusion $\Lambda(T)\subseteq \sigma(T)$ is always true. For the other inclusion note that if $\alpha\notin \Lambda(T)$, then $Tx\ne \alpha x$ $\forall x\in E$, $x\ne 0$, and so $\ker (T-\alpha \id)=\{0\}$. Hence, $\alpha\notin \sigma(T)$ as in finite dimension injectivity in $\mathcal{L}(E)$ is equivalent to bijectivity in $\mathcal{L}(E)$.
  \end{proof}
  \begin{proposition}
    Let $E$ be a Banach space and $T\in\mathcal{L}(E)$. Then, $\sigma(T)$ is compact and: $$\sigma(T)\subseteq\{w\in \KK:\abs{w}\leq\norm{T}\}$$
  \end{proposition}
  \begin{proof}
    Let's first check that $\sigma(T)\subseteq\{w\in \KK:\abs{w}\leq\norm{T}\}$. Let $\alpha\notin\{w\in \KK:\abs{w}\leq\norm{T}\}$ (i.e. satisfies $\abs{\alpha}>\norm{T}$), $z\in E$ and define $f(x)=\frac{1}{\alpha} (Tx-z)$. Then, $f$ is a contraction and by the \mnameref{DE:fixedpoint} $\exists!x\in E$ such that $Tx-\alpha x=z$, i.e. $T-\alpha\id$ is bijective, and so $\alpha\notin\sigma (T)$.

    Now let's see that ${\sigma(T)}^c$ is open. Let $\beta\notin\sigma(T)$ and $\alpha,z\in E$ be such that $\abs{\alpha-\beta}<\frac{1}{\norm{{(T-\beta\id)}^{-1}}}$. Now consider the function:
    $$g(x)={(T-\beta \id)}^{-1}(\alpha z-\beta x +z)$$
    We have that $g$ is a contraction and by the \mnameref{DE:fixedpoint} $\exists!x\in E$ such that $Tx-(\alpha-\beta) x=z$, i.e. $T-(\alpha-\beta)\id$ is bijective. This is true $\forall\alpha\in E$ satisfying $\abs{\alpha-\beta}<\frac{1}{\norm{{(T-\beta\id)}^{-1}}}$. Hence, ${\sigma(T)}^c$ is open.

    Finally, since $\sigma(T)$ is a bounded closed subset of $\CC$, it is compact.
  \end{proof}
  \subsection{General theorems on linear maps}
  \subsubsection{Open mapping and closed graph theorems}
  \begin{theorem}[Baire's theorem]
    Let $(U_n)$ be a sequence of dense open sets on a metric space $X$. Then, $\bigcap_{n=1}^\infty U_n$ is dense on $X$.
  \end{theorem}
  \begin{corollary}
    Let $X$ be a metric space such that $X=\bigcup_{n=1}^\infty C_n$, where $C_n\subseteq X$ are closed sets. Then, $\exists n_0$ such that $\Int F_{n_0}\ne \varnothing$.
  \end{corollary}
  \begin{sproof}
    If a closed set $C$ has empty interior, then $X\setminus C$ is an open dense set.
  \end{sproof}
  \begin{theorem}[Open mapping theorem]
    Let $E$, $F$ be a Banach spaces and $T:E\rightarrow F$ be a surjective bounded operator. Then, $T$ is open.
  \end{theorem}
  \begin{theorem}[Closed graph theorem]
    Let $E$, $F$ be a Banach spaces and $T:E\rightarrow F$ be an operator. Consider the graph of $T$: $$\graph(T)=\{(x,y)\in E\times F:y=Tx\}$$
    Then, $T$ is bounded if and only if $\graph(T)$ is a closed set on $E\times F$.
  \end{theorem}
  \subsubsection{Uniform boundedness principle}
  \begin{theorem}
    Let $E$, $F$ be a Banach spaces and $\{T_i:i\in I\}\subset\mathcal{L}(E, F)$ be a family of bounded operators. Then, one of the following statements holds:
    \begin{enumerate}
      \item $\sup\{\norm{T_i}:i\in I\}<\infty$
      \item $\exists A\subseteq E$ such that it is a countable intersection of dense open subsets (and therefore dense) such that: $$\sup\{\norm{T_ix}_F:i\in I\}=\infty\quad\forall x\in A$$
    \end{enumerate}
  \end{theorem}
  \begin{corollary}[Banach-Steinhaus theorem]
    Let $E$, $F$ be a Banach spaces and $(T_n)\in\mathcal{L}(E,F)$ be sequence of bounded operators such that:
    \begin{itemize}
      \item The limit $Tx:=\displaystyle\lim_{n\to\infty}T_nx$ exists $\forall x\in D\subseteq E$, where $D$ is a dense set in $E$.
      \item The sequence $(T_nx)$ is bounded $\forall x\in E$.
    \end{itemize}
    Then, $T$ can be extended into a bounded operator such that: $$\norm{T}\leq \liminf_{n\to\infty}\norm{T_n}$$
  \end{corollary}
  \subsection{Hilbert spaces}
  \subsubsection{Inner products}
  \begin{definition}
    Let $E$, $F$ be vector spaces over $\KK=\RR,\CC$ and $u:E\rightarrow F$ be a function. We say that $u$ is \emph{semilinear} if $\forall x,y\in E$ and $\forall\lambda\in \KK$ we have:
    \begin{enumerate}
      \item $u(x+y)=u(x)+u(y)$
      \item $u(\lambda x)=\overline{\lambda}u(x)$
    \end{enumerate}
  \end{definition}
  \begin{definition}
    Let $E$ be a vector space over $\KK=\RR,\CC$. An \emph{inner product} $\dotp{\cdot}{\cdot}: E\times E\rightarrow\KK$ is a function such that $\forall x,y\in E$ we have:
    \begin{enumerate}
      \item $\dotp{\cdot}{y}$ is linear and $\dotp{x}{\cdot}$ is semilinear.
      \item $\dotp{x}{y}=\overline{\dotp{y}{x}}$
      \item $\dotp{x}{x}>0 \iff x\ne 0$
    \end{enumerate}
    We denote the norm associated with this inner product as $\norm{x}:=\sqrt{\dotp{x}{x}}$.
  \end{definition}
  \begin{definition}
    A \emph{pre-Hilbert space} $(H,\dotp{\cdot}{\cdot}_H)$ is a vector space $H$ over $\KK=\RR,\CC$ together with an inner product $\dotp{\cdot}{\cdot}_H$\footnote{In order to simplify the notation, if the context is clear, we will denote the inner product of $H$ simply as $\dotp{\cdot}{\cdot}$.}.
  \end{definition}
  \begin{proposition}
    Let $(H,\dotp{\cdot}{\cdot})$ be a pre-Hilbert space and $x,y\in H$. Then:
    \begin{enumerate}[ref = Cauchy-Schwarz inequality]
      \item\label{RFA:cauchyschwarz} $\displaystyle \abs{\dotp{x}{y}}\leq \norm{x}\norm{y}$ (\emph{Cauchy-Schwarz inequality})
      \item $\norm{x+y}\leq \norm{x} + \norm{y}$ (\emph{Minkowski inequality})
    \end{enumerate}
  \end{proposition}
  \begin{proof}
    \begin{enumerate}
      \item Note that $\norm{x+\lambda y}^2\geq 0$ $\forall\lambda\in\KK$. Taking $\lambda = -\frac{\dotp{x}{y}}{\norm{y}^2}$ we have:
            \begin{align*}
              0 & \leq \norm{x+\lambda y}^2                                                                                                        \\
                & =\norm{x}^2+\overline{\lambda}\dotp{x}{y}+\lambda\overline{\dotp{x}{y}}+\abs{\lambda}^2\norm{y}^2                                \\
                & =\norm{x}^2-\frac{\abs{\dotp{x}{y}}^2}{\norm{y}^2}-\frac{\abs{\dotp{x}{y}}^2}{\norm{y}^2}+\frac{\abs{\dotp{x}{y}}^2}{\norm{y}^2} \\
                & =\norm{x}^2-\frac{\abs{\dotp{x}{y}}^2}{\norm{y}^2}
            \end{align*}
      \item Using \mref{RFA:cauchyschwarz} we have:
            \begin{align*}
              \norm{x+y}^2 & =\norm{x}^2+\dotp{x}{y}+\dotp{y}{x}+\norm{y}^2 \\
                           & =\norm{x}^2+2\Re\dotp{x}{y}+\norm{y}^2         \\
                           & \leq\norm{x}^2+2\abs{\dotp{x}{y}}+\norm{y}^2   \\
                           & \leq{(\norm{x} + \norm{y})}^2
            \end{align*}
    \end{enumerate}
  \end{proof}
  \begin{lemma}[Polarization identity]\label{RFA:polarization}
    Let $(H,\dotp{\cdot}{\cdot})$ be a pre-Hilbert space and $x,y\in H$. Then if $\KK=\CC$ we have:
    $$\dotp{x}{y}=\frac{{\norm{x+y}}^2-{\norm{x-y}}^2+\ii{\norm{x+\ii y}}^2-\ii{\norm{x-\ii y}}^2}{4}$$
    If $\KK=\RR$ we have:
    $$\dotp{x}{y}=\frac{1}{4}\left({\norm{x+y}}^2-{\norm{x-y}}^2\right)$$
  \end{lemma}
  \begin{sproof}
    Expand the right-hand side of the equalities using the definition of norm.
  \end{sproof}
  \begin{proposition}
    Let $(H,\dotp{\cdot}{\cdot})$ be a pre-Hilbert space. Then:
    \begin{itemize}
      \item The inner product is a continuous function.
      \item The map $$\function{}{H}{H^*}{x}{\dotp{\cdot}{x}}$$ is semilinear, injective and isometric.
    \end{itemize}
  \end{proposition}
  \begin{definition}
    Let $(H,\dotp{\cdot}{\cdot})$ be a pre-Hilbert space and $x,y\in H$. We say that $x$ and $y$ are \emph{orthogonal} if $\dotp{x}{y}=0$. Moreover, we define the \emph{orthogonal complement} of a subspace $A\subseteq H$ as: $$A^\perp:=\{x\in H:\dotp{x}{a}=0\ \forall a\in A\}$$
  \end{definition}
  \begin{lemma}
    Let $(H,\dotp{\cdot}{\cdot})$ be a pre-Hilbert space and $A\subseteq H$ be a subspace. Then: $$A^\perp=\bigcap_{a\in A}\ker\dotp{\cdot}{a}$$
    Hence, $A^\perp$ is a closed subspace of $H$.
  \end{lemma}
  \begin{proof}
    $$x\in A^\perp\!\iff \dotp{x}{a}=0\ \forall a\in A\iff x\in\ker\dotp{\cdot}{a}\ \forall a\in A$$
  \end{proof}
  \begin{proposition}[Pythagorean theorem]\label{RFA:pythagorean}
    Let $(H,\dotp{\cdot}{\cdot})$ be a pre-Hilbert space and $x_1,\ldots, x_n\in H$ be pairwise orthogonal elements of $H$. Then: $${\norm{x_1}}^2+\cdots + {\norm{x_n}}^2={\norm{x_1+\cdots+x_n}}^2$$
  \end{proposition}
  \begin{proof}
    \begin{align*}
      {\norm{x_1+\cdots+x_n}}^2 & = \dotp{x_1+\cdots+x_n}{x_1+\cdots+x_n}                       \\
                                & ={\norm{x_1}}^2+\cdots + {\norm{x_n}}^2+\sum_{\substack{i,j=1 \\i\ne j}}^n\dotp{x_i}{x_j}\\
                                & ={\norm{x_1}}^2+\cdots + {\norm{x_n}}^2
    \end{align*}
  \end{proof}
  \begin{lemma}[Parallelogram law]\label{RFA:parallelogram}
    Let $(H,\dotp{\cdot}{\cdot})$ be a pre-Hilbert space and $x,y\in H$. Then: $$\norm{x+y}^2+{\norm{x-y}}^2=2\norm{x}^2+2{\norm{y}}^2$$
  \end{lemma}
  \begin{definition}[Hilbert space]
    A \emph{Hilbert space} is a complete pre-Hilbert space.
  \end{definition}
  \begin{proposition}
    Let $X\subseteq \RR$ and $A=\NN,\ZZ,\{1,\ldots,m\}$. Then:
    \begin{enumerate}
      \item $\RR^n$ and $\CC^n$ are Hilbert spaces with the inner product: $$\dotp{(x_1,\ldots,x_n)}{(y_1,\ldots,y_n)}=\sum_{i= 1}^nx_i\overline{y_i}$$
      \item The $L^2(X)$ space with the inner product $$\dotp{f}{g}_2=\int_Xf(x)\overline{g(x)}\dd{x}$$ is a Hilbert space.
      \item The $\ell^2(A)$ space with the inner product $$\dotp{(x_1,x_2,\ldots)}{(y_1,y_2,\ldots)}=\sum_{a\in A}x_a\overline{y_a}$$ is a Hilbert space.
    \end{enumerate}
  \end{proposition}
  \subsubsection{Projection theorem}
  \begin{definition}
    Let $X$ be a metric space and $A\subseteq X$ be a subset. We say that $y\in A$ is a \emph{minimizer} of $x$ in $A$ if $d(x, A)=\norm{x-y}$.
  \end{definition}
  \begin{proposition}\label{RFA:minimizeruniqueness}
    Let $(H,\dotp{\cdot}{\cdot})$ be a Hilbert space and $C\subseteq H$ be a convex subset. Then, each $x\in H$ has at most one minimizer in $C$.
  \end{proposition}
  \begin{proof}
    Suppose there are two minimizers $y,z\in C$ and let $\delta:=d(x,A)$. Then, using \mnameref{RFA:parallelogram} we have:
    $$4\delta^2=\norm{2x-(y+z)}^2+\norm{y-z}^2\geq 4\delta^4+\norm{y-z}^2$$
    because $\frac{y+z}{2}\in C$ as $C$ is convex. Thus, $\norm{y-z}$ and so $y=z$.
  \end{proof}
  \begin{theorem}
    Let $(H,\dotp{\cdot}{\cdot})$ be a Hilbert space and $C\subseteq H$ be a nonempty convex complete subset. Then, $\forall x\in H$, there exists a unique minimizer of $x$ in $C$, which is denoted by $P_Cx\in C$.
  \end{theorem}
  \begin{sproof}
    The uniqueness has been proved in \mcref{RFA:minimizeruniqueness}. To show the existence, let $\delta:=d(x,C)$ and let $(y_n)\in C$ such that $\norm{y_n-x}\to \delta$. By the \mnameref{RFA:parallelogram}:
    $$\norm{y_n-y_m}^2\leq 2\norm{y_n-x}^2+2\norm{y_m-x}^2 - 4\delta^2\to 0$$
    Hence $(y_n)$ is Cauchy and so its limit $y\in C$ satisfies $\delta=d(x,y)$ by the continuity of the norm.
  \end{sproof}
  \begin{theorem}[Projection theorem]\label{RFA:projection}
    Let $(H,\dotp{\cdot}{\cdot})$ be a Hilbert space and $F\subseteq H$ be a closed subspace. Then:
    \begin{enumerate}
      \item\label{RFA:projA} $H=F\oplus F^\perp$ and $\forall x\in H$, we can write $x=P_Fx+P_{F^\perp}x$.
      \item If $x\in H$ and $y\in F$, then $y=P_Fx\iff x-y\in F^\perp$.
    \end{enumerate}
  \end{theorem}
  \begin{proof}
    \begin{enumerate}
      \item The equality $F\cap F^\perp=\{0\}$ follows from noting that $\dotp{u}{u}=0$ $\forall u\in F\cap F^\perp$. Now let $x\in H$ and $y=P_Fx$. We need to show that $z:=x-y\in F^\perp$. Let $u\in F$. Then, $\exists\lambda\in\KK$ such that $\norm{\lambda}= 1$ and $\lambda\dotp{u}{z}=\abs{\dotp{u}{z}}$. Now consider $f(t)=\norm{z-vt}^2$, where $v=\lambda u\in F$. Note that $f$ has a minimum at the origin because:
            $$f(t)=\norm{x-y -vt}^2\geq\norm{x-y}^2=\norm{z}^2=f(0)$$
            because $y+vt\in F$ and $y$ is the minimizer of  $x$ in $F$. Thus, $0=f'(0)=-2\dotp{v}{z}$ and so $\dotp{u}{z}=0$ $\forall u\in F$. Moreover, $z$ is the minimizer of $x$ in $F^\perp$ because $\forall w\in F^\perp$ we have by the \mnameref{RFA:pythagorean}:
            $$\norm{x-w}^2=\norm{x-z}^2+\norm{z-w}^2\geq \norm{z-w}^2$$
      \item We have just seen the implication to the right. For the other one note that by \mcref{RFA:projA} we can write $x=P_Fx+P_{F^\perp}x$. But, $x-y=P_Fx+P_{F^\perp}x -y\in F^\perp$ and $F\cap F^\perp=\{0\}$, so $y=P_Fx$.
    \end{enumerate}
  \end{proof}
  \begin{corollary}
    Let $(H,\dotp{\cdot}{\cdot})$ be a Hilbert space and $F\subseteq H$ be a closed subspace. The function $P_F:H\rightarrow H$, called \emph{orthogonal projection on $F$}, satisfy the following properties:
    \begin{enumerate}
      \item\label{RFA:corprojA} ${P_F}^2 = P_F$
      \item\label{RFA:corprojB} $\dotp{P_Fx_1}{x_2}=\dotp{x_1}{P_Fx_2}$ $\forall x_1, x_2\in H$
      \item\label{RFA:corprojC} $P_F$ is linear, $\norm{P_Fx}\leq \norm{x}$ and the equality holds if and only if $x\in F$.
      \item If $F\ne\{0\}$, $\norm{P_F}=1$.
      \item $\im P_F=F=\{y\in H:P_Fy=y\}$
      \item $\ker P_F=F^\perp$
      \item $\norm{x}^2={d(x,F)}^2+{d(x,F^\perp)}^2$ $\forall x\in H$
    \end{enumerate}
  \end{corollary}
  \begin{proof}
    \begin{enumerate}
      \item Note that $P_F|_{F}=\id$ and $\im P_F\subseteq F$.
      \item
            \begin{align*}
              \dotp{P_Fx_1}{x_2} & =\dotp{P_Fx_1}{P_Fx_2+P_{F^\perp}x_2} \\
                                 & =\dotp{P_Fx_1}{P_Fx_2}                \\
                                 & =\dotp{P_Fx_1+P_{F^\perp}x_1}{P_Fx_2} \\
                                 & =\dotp{x_1}{P_Fx_2}
            \end{align*}
      \item Let $x_1,x_2,y\in H$, $\lambda,\mu\in\KK$. Then using \mcref{RFA:corprojB}:
            \begin{align*}
              \dotp{P_F(\lambda x_1+\mu x_2)}{y} & =\dotp{\lambda x_1+\mu x_2}{P_Fy}            \\
                                                 & =\lambda\dotp{x_1}{P_Fy}+\mu\dotp{x_2}{P_Fy} \\
                                                 & =\lambda\dotp{P_Fx_1}{y}+\mu\dotp{P_Fx_2}{y} \\
                                                 & =\dotp{\lambda P_Fx_1+\mu P_Fx_2}{y}
            \end{align*}
            for all $y\in H$. Thus, $P_F(\lambda x_1+\mu x_2)=\lambda P_Fx_1+\mu P_Fx_2$. Moreover, using \mcref{RFA:corprojA} and the \mref{RFA:cauchyschwarz}:
            $$\norm{P_Fx}^2=\dotp{P_Fx}{P_Fx}=\dotp{P_Fx}{x}\leq\norm{P_Fx}\norm{x}$$
            and the inequality follows if and only if $P_Fx=\lambda x$, for some $\lambda\in\KK$, that is, $x\in F$.
      \item Consequence of the equality case in \mcref{RFA:corprojC}.
      \item Clearly $\im P_F\subseteq F$. The other follows from the fact that if $u\in F$, then $P_Fu=u$ by the \mnameref{RFA:projection}.
      \item Clearly $\ker P_F\supseteq F^\perp$. Moreover, if $x\in \ker P_F$, the \mnameref{RFA:projection} implies $x\in F^\perp$.
      \item By the \mnameref{RFA:pythagorean} we have:
            \begin{align*}
              \norm{x}^2 & =\norm{P_Fx}^2+\norm{P_{F^\perp}x}^2      \\
                         & =\norm{x -P_{F^\perp}x}^2+\norm{x-P_Fx}^2 \\
                         & ={d(x,F^\perp)}^2+{d(x,F)}^2
            \end{align*}
    \end{enumerate}
  \end{proof}
  \begin{proposition}
    Let $(H,\dotp{\cdot}{\cdot})$ be a Hilbert space and $A\subseteq H$ be subset. Then:
    \begin{enumerate}
      \item $\displaystyle A^\perp ={\overline{\langle A\rangle}}^\perp$\footnote{Here $\langle A\rangle$ denotes the space generated by $A$.}
      \item $\displaystyle A^{\perp\perp} ={\overline{\langle A\rangle}}$
    \end{enumerate}
    In particular if $F\subseteq H$ is a subspace, then $F^{\perp\perp} ={\overline{F}}$.
  \end{proposition}
  \begin{proposition}
    Let $(H,\dotp{\cdot}{\cdot})$ be a Hilbert space, $F\subseteq H$ be a closed subspace and $x\notin F$. Then:
    \begin{align*}
      \max\{\abs{\dotp{x}{u}}:u\in F^\perp, \norm{u}\leq 1\} & =d(x, F)                                            \\
                                                             & =\dotp{x}{\frac{P_{F^\perp}x}{\norm{P_{F^\perp}x}}}
    \end{align*}
  \end{proposition}
  \subsubsection{Duality and adjoint operator}
  \begin{theorem}[Riesz representation theorem]\label{RFA:riesz_rep}
    Let $(H,\dotp{\cdot}{\cdot})$ be a Hilbert space. The map $$\function{}{H}{H^*}{x}{\dotp{\cdot}{x}}$$ is semilinear, bijective and isometric.
  \end{theorem}
  \begin{corollary}
    Let $H_1$, $H_2$ be Hilbert spaces and $T\in\mathcal{L}(H_1,H_2)$. Then, $\forall y\in H_2$ $\exists! T^*y\in H_1$ such that:
    \begin{equation}\label{RFA:adjoint}
      \dotp{Tx}{y}_{H_2}=\dotp{x}{T^*y}_{H_1}
    \end{equation}
  \end{corollary}
  \begin{definition}
    Let $H_1$, $H_2$ be Hilbert spaces and $T\in\mathcal{L}(H_1,H_2)$. We define the \emph{adjoint operator} of $T$ as the unique map $$\function{T^*}{H_2}{H_1}{y}{T ^*y}$$ such that \mcref{RFA:adjoint} is held.
  \end{definition}
  \begin{proposition}
    Let $H_1$, $H_2$ be Hilbert spaces and $T\in\mathcal{L}(H_1,H_2)$. Then:
    \begin{enumerate}
      \item $T^*\in\mathcal{L}(H_2,H_1)$, $\norm{T^*}=\norm{T}$ and $\norm{T^*\circ T}=\norm{T\circ T^*}=\norm{T}^2$.
      \item The map $$\function{}{\mathcal{L}(H_1,H_2)}{\mathcal{L}(H_2,H_1)}{T}{T^*}$$ is semilinear.
      \item ${(T^*)}^* = T$.
      \item If $H_3$ is Hilbert and $S\in\mathcal{L}(H_2,H_3)$, then ${(S\circ T)}^*=T^*\circ S^*$.
    \end{enumerate}
  \end{proposition}
  \begin{proposition}\label{RFA:adjoint_im_ker}
    Let $H_1$, $H_2$ be Hilbert spaces and $T\in\mathcal{L}(H_1,H_2)$. Then:
    \begin{enumerate}
      \item ${(\im T)}^\perp =\ker T^*$
      \item $\overline{\im T} = {(\ker T^*)}^\perp$
      \item ${(\im T^*)}^\perp =\ker T$
      \item $\overline{\im T^*} = {(\ker T)}^\perp$
    \end{enumerate}
  \end{proposition}
  \begin{definition}
    Let $H$ be a Hilbert space and $T\in\mathcal{L}(H)$. We say that $T$ is \emph{self-adjoint} if $T^*=T$.
  \end{definition}
  \begin{lemma}
    Let $H$ be a Hilbert space. The orthogonal projections $P_F$ on a closed subspace $F\subseteq H$ are self-adjoint.
  \end{lemma}
  \begin{proposition}
    Let $H$ be a Hilbert space and $T\in\mathcal{L}(H)$ be self-adjoint. Then: $$\norm{T}=\sup\{\abs{\dotp{Tx}{x}}:\norm{x}=1\}=\max\{M(T),-m(T)\}$$
    where $M(T):=\sup\{\dotp{Tx}{x}:\norm{x}=1\}$ and $m(T):=\inf\{\dotp{Tx}{x}:\norm{x}=1\}$
  \end{proposition}

  \subsubsection{Orthonormal systems}
  \begin{definition}
    Let $H$ be a Hilbert space. An \emph{orthogonal system} on $H$ is a nonempty subset $E\subseteq H$ such that its vectors are pairwise orthogonal. If moreover $\norm{e}=1 $ $\forall e\in E$, we will say that $E$ is an \emph{orthonormal system}.
  \end{definition}
  \begin{definition}
    Let $H$ be a Hilbert space and $E$ be an orthonormal system. We say that $E$ is \emph{complete} if $E^\perp =\{0\}$.
  \end{definition}
  \begin{lemma}
    Let $H$ be a Hilbert space. $E$ is complete if and only if there is no other orthogonal system $E'\subseteq H$ such that $E\subsetneq E'$.
  \end{lemma}
  \begin{definition}
    Let $H$ be a Hilbert space. A complete orthonormal system is called a \emph{Hilbert basis}.
  \end{definition}
  \begin{lemma}
    Let $H$ be a Hilbert space and $E=\{e_1,\ldots,e_n\}$ be an orthonormal system and $F=\langle E\rangle$. Then, each $x\in H$ can be written as: $$P_Fx=\sum_{k=1}^n\dotp{x}{e_k}e_k$$
  \end{lemma}
  \begin{definition}
    Let $H$ be a Hilbert space and $\{e_i:i\in I\}$ be an orthonormal system. We define the \emph{Fourier coefficients} of an element $x\in H$ as the numbers $\widehat{x}(i):=\dotp{x}{e_i}\in\KK$. We will denote $\widehat{x}:=\{\widehat{x}(i):i\in I\}$ and we will say that $$\sum_{i\in I}\widehat{x}(i)e_i$$ is the \emph{Fourier series} of $x$.
  \end{definition}
  \begin{proposition}
    Let $H$ be a Hilbert space, $E=\{e_i:i\in I\}$ be a finite orthonormal system, $x\in H$ and $s=\sum_{i\in I}d_ie_i\in\langle E\rangle$. Then, $\norm{x-s}$ is minimum if and only if $d_i=\widehat{x}(i)$ $\forall i\in I$.
  \end{proposition}
  \begin{proposition}[Gram-Schmidt process]
    Let $H$ be a Hilbert space, $\mathcal{B}=\{x_1,x_2,\ldots\}\subset H$ be a finite or countable sequence. The \emph{orthonormalization} of $\mathcal{B}$ is the orthonormal sequence $U=\{u_1,u_2,\ldots\}\subset H$ such that for each $n\in \NN$, we have $\langle x_1,\dots,x_n\rangle = \langle u_1,\dots,u_n\rangle$. It is built as follows:
    \begin{itemize}
      \item For $n = 1$, define $y_1:=x_1$ and then $u_1:=\frac{y_1}{\norm{y_1}}$
      \item For $n\geq 2$, define $$y_n=x_n-\sum_{i=1}^{n-1}\dotp{x_n}{u_i}u_i$$
            and then $u_n:=\frac{y_n}{\norm{y_n}}$.
    \end{itemize}
  \end{proposition}
  \begin{theorem}[Bessel's inequality]
    Let $H$ be a Hilbert space and $\{e_i:i\in I\}$ be an orthonormal system. Then, $\forall x\in H$ we have: $$\sum_{i\in I}\abs{\widehat{x}(i)}^2\leq\norm{x}^2$$
  \end{theorem}
  \begin{lemma}
    Let $H$ be a Hilbert space and $\{e_i:i\in I\}$ be an orthonormal system. The map $$\function{}{H}{\ell^2(I)}{x}{\widehat{x}}$$ is linear, surjective and satisfies $\norm{\widehat{x}}_2\leq\norm{x}_H$. This map is called \emph{Fourier transform}.
  \end{lemma}
  \begin{definition}
    Let $H$ be a Hilbert space, $\{e_k:k\in\NN\}$ be an orthonormal system and $x\in H$. We define: $$s_k(x):=\sum_{k=1}^n\widehat{x}(k)e_k$$
  \end{definition}
  \begin{lemma}
    Let $H$ be a Hilbert space, $\{e_k:k\in\NN\}$ be an orthonormal system and $x\in H$. Then, the limit $\displaystyle z = \lim_{n\to\infty} s_n(x)$ exists and satisfies $\widehat{z}=\widehat{x}$, but $x$ and $z$ may be different.
  \end{lemma}
  \begin{theorem}[Riesz-Fischer theorem]
    Let $H$ be a Hilbert space and $E=\{e_i:i\in I\}$ be an orthonormal system. The following statements are equivalent:
    \begin{enumerate}
      \item $E$ is complete.
      \item For all $x\in H$, $\displaystyle x=\lim_{n\to\infty} s_n(x)=\sum_{i\in I} \widehat{x}(i)e_i$ on $H$.
      \item \emph{Parseval identity}: For all $x\in H$, we have: $$\norm{x}^2=\sum_{i\in I}\abs{\widehat{x}(i)}^2$$
      \item $\dotp{x}{y}_H=\dotp{\widehat{x}}{\widehat{y}}_2$ $\forall x,y\in H$
    \end{enumerate}
  \end{theorem}
  \begin{proposition}
    Let $X,Y\subseteq \RR^n$ be measurable spaces and $K\in L^2(X\times Y)$. The Hilbert-Schmidt operator $T$ with kernel $K$ is compact. Moreover, if $K(x,y)=K(y,x)$ $\forall (x,y)\in X\times Y$, then $T$ is self-adjoint.
  \end{proposition}
  \subsubsection{Spectral theorem}
  \begin{proposition}
    Let $H$ be a Hilbert space and $T\in\mathcal{L}(H)$ be self-adjoint. Then:
    \begin{enumerate}
      \item Any eigenvalue of $T$ belongs to $[m(T),M(T)]\subset\RR$.
      \item Eigenvectors of distinct eigenvalues are orthogonal.
      \item If $F\subseteq H$ is a closed subspace such that $T(F)\subseteq F$, then $T(F^\perp)\subseteq F^\perp$.
    \end{enumerate}
  \end{proposition}
  \begin{theorem}[Spectral theorem]\label{RFA:spectraltheorem}
    Let $H$ be a Hilbert space and $T\in\mathcal{L}(H)$ be compact and self-adjoint. Then, $\exists \alpha\in \KK$ such that $\alpha$ is eigenvalue of $T$ with $\abs{\alpha}=\norm{T}$.
  \end{theorem}
  \begin{corollary}
    Let $H$ be a Hilbert space and $T\in\mathcal{L}(H)$ be compact and self-adjoint. Suppose $\alpha_1$ is an eigenvalue of $T$ with $\abs{\alpha_1}=\norm{T}$. Now consider $T_1:=T|_{{\ker(T-\alpha_1\id)}^\perp}$. By \mcref{RFA:spectraltheorem}, we obtain an eigenvalue $\alpha_2$ of $T_1$ (and therefore of $T$) such that $\abs{\alpha_1}\geq \abs{\alpha_2}$. Iterating the process, we get a sequence of eigenvalues $(\alpha_n)$ with the property that $\abs{\alpha_1}\geq \abs{\alpha_2}\geq\abs{\alpha_3}\geq\cdots$.
  \end{corollary}
  \begin{theorem}
    Let $H$ be a Hilbert space and $T\in\mathcal{L}(H)$ be compact and self-adjoint. The sequence $(\alpha_n)$ of eigenvalues of $T$ (each repeated according its multiplicity) is a sequence of real numbers. If the sequence is countable (i.e. not finite), then $\displaystyle\lim_{n\to\infty}\alpha_n=0$. Moreover, for each eigenvalue $\alpha_n$, $\dim\ker(T-\alpha_n\id)<\infty$.
  \end{theorem}
  \begin{lemma}
    Let $H$ be a Hilbert space and $T\in\mathcal{L}(H)$ be compact and self-adjoint. Consider the sequence $(v_n)$ of orthonormal eigenvectors associated with the eigenvalues $(\alpha_n)$ of $T$. Then: $$H=\langle v_1,v_2,\ldots\rangle\oplus \ker(T)$$ and $\langle v_1,v_2,\ldots\rangle={\ker(T)}^\perp$.
  \end{lemma}
  \begin{theorem}[Hilbert-Schmidt spectral representation theorem] \label{RFA:representationtheorem}
    Let $H$ be a Hilbert space and $T\in\mathcal{L}(H)$ be compact and self-adjoint. Consider the sequence $(v_n)$ of orthonormal eigenvectors associated with the eigenvalues $(\alpha_n)$ of $T$. Then: $$Tx=\sum_{n=1}^\infty\alpha_n\dotp{x}{v_n}v_n$$ assuming that $\alpha_n=0$ eventually if the sequence $(\alpha_n)$ is finite.
  \end{theorem}
  \begin{theorem}[Fredholm alternative]
    Let $H$ be a Hilbert space, $T\in\mathcal{L}(H)$ be compact and self-adjoint and $\alpha\in\KK^*$. Consider the sequence $(v_n)$ of orthonormal eigenvectors associated with the eigenvalues $(\alpha_n)$ of $T$. Then:
    \begin{enumerate}
      \item If $\alpha\ne\alpha_n$ $\forall n\in\NN$, then $\forall y\in H$ the unique solution to $Tx-\alpha x=y$ is: $$x=\frac{1}{\alpha}\left(\sum_{n=1}^\infty\frac{\alpha_n}{\alpha_n-\alpha}\dotp{y}{v_n}v_n -y\right)$$
      \item If $\alpha=\alpha_{n_0}$ for some $n_0\in\NN$, then the equation $Tx-\alpha x=y$ has solution if and only if $y\in {\ker(T-\alpha \id)}^\perp$. In this case the solution is: $$x=\frac{1}{\alpha}\left(\sum_{\substack{n\geq 1\\\alpha_n\ne\alpha}}^\infty\frac{\alpha_n}{\alpha_n-\alpha}\dotp{y}{v_n}v_n -y\right) + \sum_{n\geq 1}^\infty \beta_nu_n$$
            where $\beta_n\in\KK$ are arbitrary coefficients and the $u_n$ are the eigenvectors associated with $\alpha_{n_0}$.
    \end{enumerate}
  \end{theorem}
\end{multicols}
\end{document}